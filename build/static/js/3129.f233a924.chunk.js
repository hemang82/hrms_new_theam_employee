(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[3129],{11976:()=>{},12815:(e,a,s)=>{"use strict";s.d(a,{A:()=>y});s(89379);var l=s(9950),d=s(28429),i=s(42074),t=s(70591),n=s(32003),o=(s(52610),s(20404),s(74959),s(82569)),c=s(69591),r=s(8741),m=s(50327),u=s(29949),v=s(82543),h=s(23172),x=s(17066),p=s(25495),b=s(90917),j=s(59091),N=s(90607),g=s(79652),f=s(44414);const y=()=>{var e,a;let s=(0,d.Zp)(),y=(0,o.wA)(),_=(0,d.zy)(),A="/"+(null===_||void 0===_||null===(e=_.pathname)||void 0===e||null===(a=e.split("/"))||void 0===a?void 0:a[1]);const{customModel:S}=(0,o.d4)(e=>e.masterslice),{slidebarToggle:w}=(0,o.d4)(e=>e.masterslice),[T,L]=(0,l.useState)(!0);var E=JSON.parse(localStorage.getItem(n.Ay.AUTH_KEY));console.log("AdminData",null===E||void 0===E?void 0:E.role);const[k,R]=(0,l.useState)(!1),[C,D]=(0,l.useState)(!1),[I,F]=(0,l.useState)("full");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("aside",{className:"left-sidebar",children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"brand-logo d-flex align-items-center justify-content-between mb-2",children:[(0,f.jsx)(i.N_,{to:"/",className:"text-nowrap logo-img text-center d-flex m-2 ms-3",children:(0,f.jsx)("img",{src:null===n.Ay||void 0===n.Ay?void 0:n.Ay.APP_LOGO,className:"dark-logo m-2",width:200,height:60,alt:!0})}),(0,f.jsx)("div",{className:"close-btn d-lg-none d-block sidebartoggler cursor-pointer",id:"sidebarCollapse",onClick:()=>{(0,j.ST)(!w)},children:(0,f.jsx)("i",{className:"ti ti-x fs-8 text-muted me-3"})})]}),(0,f.jsx)("nav",{className:"sidebar-nav scroll-sidebar","data-simplebar":!0,children:(0,f.jsxs)("ul",{id:"sidebarnav",children:[(0,f.jsx)("li",{className:"sidebar-item ".concat("/dashboard"===A||"/"===A?"selected":""),children:(0,f.jsxs)(i.N_,{to:"/dashboard",className:"sidebar-link ".concat("/dashboard"===A||"/"===A?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(r.uRs,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Dashboard"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===N.R.ATTENDANCE_LIST?"selected":""),children:(0,f.jsxs)(i.N_,{to:N.R.ATTENDANCE_LIST,className:"sidebar-link ".concat(A===N.R.ATTENDANCE_LIST?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(b.jUr,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Attendance"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===N.R.LIST_DAILY_WORK_UPDATE?"selected":""),children:(0,f.jsxs)(i.N_,{to:N.R.LIST_DAILY_WORK_UPDATE,className:"sidebar-link ".concat(A===N.R.LIST_DAILY_WORK_UPDATE?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(u.eCE,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Daily Work Update"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===N.R.LEAVE_LIST?"selected":""),children:(0,f.jsxs)(i.N_,{to:N.R.LEAVE_LIST,className:"sidebar-link ".concat(A===N.R.LEAVE_LIST?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(m.$yx,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Leave"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===N.R.SATERDAY_LIST?"selected":""),children:(0,f.jsxs)(i.N_,{to:N.R.SATERDAY_LIST,className:"sidebar-link ".concat(A===N.R.SATERDAY_LIST?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(m.tjE,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Saturday"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===(null===N.R||void 0===N.R?void 0:N.R.HOLIDAYS_LIST)?"selected":""),children:(0,f.jsxs)(i.N_,{to:null===N.R||void 0===N.R?void 0:N.R.HOLIDAYS_LIST,className:"sidebar-link ".concat(A===(null===N.R||void 0===N.R?void 0:N.R.HOLIDAYS_LIST)?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(p.nih,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Holidays"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===(null===N.R||void 0===N.R?void 0:N.R.LIST_BIRTHDAY)?"selected":""),children:(0,f.jsxs)(i.N_,{to:null===N.R||void 0===N.R?void 0:N.R.LIST_BIRTHDAY,className:"sidebar-link ".concat(A===(null===N.R||void 0===N.R?void 0:N.R.LIST_BIRTHDAY)?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(g.BBw,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Birthday"})]})}),(0,f.jsx)("li",{className:"sidebar-item ".concat(A===N.R.SALARY_LIST?"selected":""),children:(0,f.jsxs)(i.N_,{to:N.R.SALARY_LIST,className:"sidebar-link ".concat(A===N.R.SALARY_LIST?"active":""),"aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(c.A1r,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Salary"})]})}),(0,f.jsx)("li",{className:"sidebar-item  ",onClick:()=>{(0,t.GF)(y,v.bt.LOGOUT_MODEL)},style:{cursor:"pointer"},children:(0,f.jsxs)(i.N_,{className:"sidebar-link","aria-expanded":"false",children:[(0,f.jsx)("span",{children:(0,f.jsx)(p.HSs,{style:{fontSize:"1.2rem"}})}),(0,f.jsx)("span",{className:"hide-menu",children:"Logout"})]})})]})}),(0,f.jsx)("div",{className:"fixed-profile p-3 bg-light-secondary rounded sidebar-ad mt-3",children:(0,f.jsxs)("div",{className:"hstack gap-3",children:[(0,f.jsx)("div",{className:"john-img",children:(0,f.jsx)("img",{src:"../../dist/images/profile/user-1.jpg",className:"rounded-circle",width:40,height:40,alt:!0})}),(0,f.jsxs)("div",{className:"john-title",children:[(0,f.jsx)("h6",{className:"mb-0 fs-4 fw-semibold",children:"Mathew"}),(0,f.jsx)("span",{className:"fs-2 text-dark",children:"Designer"})]}),(0,f.jsx)("button",{className:"border-0 bg-transparent text-primary ms-auto",tabIndex:0,type:"button","aria-label":"logout","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"logout",children:(0,f.jsx)("i",{className:"ti ti-power fs-6"})})]})})]})}),S.isOpen&&(null===S||void 0===S?void 0:S.modalType)===v.bt.LOGOUT_MODEL&&(0,f.jsx)(h.A,{children:(0,f.jsx)(x.Cz,{onConfirm:e=>{e&&((0,t.MF)(y),(0,t.V1)(),s("/login"))}})})]})}},15928:(e,a,s)=>{"use strict";e.exports=s.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},34263:(e,a,s)=>{"use strict";s.d(a,{Z:()=>o});var l=s(73349),d=s.n(l),i=s(32003),t=s(52610);s(82391);let n={region:i.E7,accessKeyId:i.Fb,secretAccessKey:i.YE,endpoint:"https://s3.".concat(i.E7,".amazonaws.com/chatmyastrologer")};d().config.update(n),console.log("config",n);const o=async(e,a)=>{try{var s;const l=new FormData;l.append("file_type",a),l.append("files",e);const d=await(0,t.QM)(l);console.log("Upload s3 buckets");return(null===d||void 0===d||null===(s=d.data[0])||void 0===s?void 0:s.s3_object_url)||""}catch(l){throw console.log("uploadImageOnAWS",l),l}}},53856:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var a=["th","st","nd","rd"],s=e%100;return"["+e+(a[(s-20)%10]||a[s]||a[0])+"]"}}}()},75061:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var l=s(9950),d=s(82569),i=s(59091),t=s(44414);const n=e=>{let{per_page:a,pageCount:s,onPageChange:n,page:o,lableName:c}=e;const r=(0,d.wA)(),[m,u]=(0,l.useState)(),v=Math.ceil(s/a)||4;(0,l.useEffect)(()=>{u(o),r((0,i.MU)(!0))},[o]);const h=e=>{e>=1&&e<=v&&(u(e),n(e))};return(0,t.jsx)(t.Fragment,{children:a<s?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"showing-results border-top ",children:(0,t.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,t.jsxs)("ul",{className:"pagination ",children:[(0,t.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>h(1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,t.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>h(m-1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let a=m-Math.floor(1.5);a=Math.max(a,1);const l=Math.min(a+3-1,v);l-a<2&&(a=Math.max(l-3+1,1));for(let d=a;d<=l;d++){const a=m===d;if(s>0){const s="page-link font_18 ".concat(a?"text-dark active-link-pagination":"text-muted"),l="page-item ".concat(a?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,t.jsx)("li",{className:l,children:(0,t.jsx)("button",{className:s,onClick:()=>!a&&h(d),disabled:a,style:{color:"black",backgroundColor:"white"},children:d})},d))}}return e})(),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>h(m+1),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>h(v),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,t.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*a,s)||0," of ",s," entries"]})]})})}):null})}},78476:(e,a,s)=>{"use strict";s(9950),s(30639),s(86160),s(14064),s(44414)},98163:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>T});var l=s(89379),d=s(9950),i=s(82569),t=s(28429),n=s(42074),o=(s(20404),s(12815),s(3302),s(19594),s(13658),s(79739)),c=s(52610),r=s(82391),m=(s(15928),s(78476),s(72772),s(42380)),u=s(2401),v=(s(73907),s(59091)),h=s(32003),x=s(45397),p=s(70591),b=s(23172),j=s(19030),N=s(75061),g=s(82543),f=s(42935),y=s(9449),_=s(45648),A=(s(4159),s(90923),s(53856),s(25495)),S=(s(34263),s(90607)),w=(s(77923),s(44414));function T(){var e,a;(0,t.Zp)();const s=(0,i.wA)(),[T,L]=(0,d.useState)(0),[E,k]=(0,d.useState)(""),[R,C]=(0,d.useState)(!1),{leaveList:{data:D}}=(0,i.d4)(e=>e.masterslice),{customModel:I}=(0,i.d4)(e=>e.masterslice),{userDetails:{data:F}}=(0,i.d4)(e=>e.masterslice),{register:M,handleSubmit:O,setValue:P,clearErrors:Y,reset:z,watch:V,trigger:W,control:U,formState:{errors:q}}=(0,y.mN)(),{register:B,handleSubmit:H,formState:{errors:K},reset:G}=(0,y.mN)(),J=[{key:"",value:"ALL STATUS"},{key:0,value:"Pending"},{key:1,value:"Approved"},{key:2,value:"Rejected"}],[Z,Q]=(0,d.useState)({}),[$,X]=(0,d.useState)(!1),[ee,ae]=(0,d.useState)(""),[se,le]=((0,x.A)(ee,h.dA),(0,d.useState)({global:{value:""}})),[de,ie]=(0,d.useState)(!1),[te,ne]=(0,d.useState)(!1),[oe,ce]=(0,d.useState)(!1),[re,me]=(0,d.useState)(J[0]),[ue,ve]=(0,d.useState)(null),[he,xe]=(0,d.useState)(-1),[pe,be]=(0,d.useState)(null),[je,Ne]=(0,d.useState)(null),[ge,fe]=(0,d.useState)(10),[ye,_e]=(0,d.useState)(1),[Ae,Se]=(0,d.useState)(D),[we,Te]=(0,d.useState)(null);(0,d.useEffect)(()=>{me({}),Te(F||null)},[F,R]),(0,d.useEffect)(()=>{let e={start_date:pe?(0,p.qr)(pe,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:je?(0,p.qr)(je,g.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,status:null===re||void 0===re?void 0:re.key};const a=(null===D||void 0===D?void 0:D.length)>0?null===D||void 0===D?void 0:D.filter(a=>{let s=!0;""!==e.status&&null!==e.status&&void 0!==e.status&&(s=Number(a.status)===Number(null===e||void 0===e?void 0:e.status));let l=!0;if(null!==e&&void 0!==e&&e.start_date&&null!==e&&void 0!==e&&e.end_date){const s=new Date(null===a||void 0===a?void 0:a.start_date),d=new Date(null===a||void 0===a?void 0:a.end_date),i=new Date(null===e||void 0===e?void 0:e.start_date),t=new Date(null===e||void 0===e?void 0:e.end_date);l=d>=i&&s<=t}return s&&l}):[];Se(a)},[D,je,re]);const Le=()=>{ne(!1),Q({})},Ee=()=>{ie(!1)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"container-fluid mw-100",children:[(0,w.jsx)(o.A,{title:"Leave List",header:"Leave List"}),(0,w.jsxs)("div",{className:"widget-content searchable-container list",children:[we&&(0,w.jsx)("div",{className:"col-12 justify-content-center",children:(0,w.jsx)("div",{className:"card  ",children:(0,w.jsx)("div",{className:"p-3 row_2",children:(0,w.jsx)("div",{className:"row",children:[{label:"Casual Leave",value:null===we||void 0===we?void 0:we.casual},{label:"Compoff Leave",value:null===we||void 0===we?void 0:we.compoff},{label:"Total Leave",value:(Number(null===we||void 0===we?void 0:we.casual)||0)+(Number(null===we||void 0===we?void 0:we.compoff)||0)}].map((e,a)=>(0,w.jsx)("div",{className:"col-12 col-sm-6 col-md-3 col-lg-4 attendance_card",children:(0,w.jsx)("div",{className:"card border-1 zoom-in them-light shadow-sm",children:(0,w.jsxs)("div",{className:"p-2 text-center",children:[(0,w.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam",children:e.label}),(0,w.jsx)("h5",{className:"fw-semibold text-dark mb-0 fs-5",children:e.value||"-"})]})},a)}))})})})}),(0,w.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,w.jsxs)("div",{className:"row g-3",children:[(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,w.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,w.jsx)("input",{type:"text",className:"form-control ps-5  ",id:"input-search",placeholder:"Search leave ...",value:ee,onChange:e=>{const a=e.target.value;let s=(0,l.A)({},se);s.global&&(s.global.value=a),le(s),_e(1),ae(null===a||void 0===a?void 0:a.trim())}}),(0,w.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,w.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,w.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,w.jsx)(_.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:pe,onChange:e=>{be(e),Ne(null)}})]}),(0,w.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,w.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,w.jsx)(_.A,{className:"custom-datepicker w-100 p-2",format:null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT,value:je,onChange:e=>{Ne(e),_e(1)},disabled:!pe,disabledDate:e=>!!pe&&e.isBefore(pe,"day")})]}),(0,w.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,w.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Leave Status"}),(0,w.jsxs)("div",{className:"btn-group w-100",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===re||void 0===re?void 0:re.value)||"Select Status"}),(0,w.jsx)("ul",{className:"dropdown-menu w-100",children:null===J||void 0===J?void 0:J.map(e=>(0,w.jsx)("li",{children:(0,w.jsx)("a",{className:"dropdown-item cursor_pointer text-black-50",onClick:()=>(e=>{me(e),_e(1)})(e),children:null===e||void 0===e?void 0:e.value})},e.value))})]})]}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-2 mb-3 mb-md-0",children:(0,w.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,w.jsxs)(n.N_,{to:null===S.R||void 0===S.R?void 0:S.R.ADD_LEAVE,id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center w-100 w-md-auto",style:{height:"40px"},children:[(0,w.jsx)("span",{className:"me-1",children:(0,w.jsx)(A.QwN,{style:{fontSize:"1.2rem"}})}),(0,w.jsx)("span",{className:"fw-semibold",children:"Add Leave"})]})})})]})}),(0,w.jsx)("div",{className:"card p-3",children:(0,w.jsxs)("div",{className:"table-responsive",children:[(0,w.jsxs)(m.b,{value:(null===Ae||void 0===Ae?void 0:Ae.length)>0?Ae:[],paginator:!0,rows:15,globalFilter:ee,sortField:ue,sortOrder:he,onSort:e=>{console.log("Sort event triggered:",e),ve(null===e||void 0===e?void 0:e.sortField),xe(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===Ae||void 0===Ae?void 0:Ae.length)>50?[20,30,50,null===Ae||void 0===Ae?void 0:Ae.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:$,emptyMessage:(0,w.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Leave Not Found."}),children:[(0,w.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,a)=>(null===a||void 0===a?void 0:a.rowIndex)+1,showFilterMenu:!0}),(0,w.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,p.sz)(e.name)||"-"," "]})}),(0,w.jsx)(u.V,{field:"start_date",header:"From",style:{minWidth:"8rem"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,p.Yq)(e.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,w.jsx)(u.V,{field:"end_date",header:"To",style:{minWidth:"8em"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,p.Yq)(e.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)||"-"," "]})}),(0,w.jsx)(u.V,{field:"days",header:"Days",style:{minWidth:"6rem"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e?void 0:e.days)||"-"," "]})}),(0,w.jsx)(u.V,{field:"leave_type",header:"Type",style:{minWidth:"6rem"},body:e=>(0,w.jsx)("span",{className:"me-2",children:(null===e||void 0===e?void 0:e.leave_type)||"-"})}),(0,w.jsx)(u.V,{field:"create_at",header:"Request Date",style:{minWidth:"9rem"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,p.Yq)(e.create_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_YEAR_WISE_SLASH_TIME_FORMAT)||"-"," "]})}),(0,w.jsx)(u.V,{field:"is_active","data-pc-section":"root",header:"Status",style:{minWidth:"6rem"},body:e=>(0,w.jsx)(w.Fragment,{children:1==(null===e||void 0===e?void 0:e.status)?(0,w.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.SUCCESS),"data-pc-name":"tag","data-pc-section":"root",children:(0,w.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Approved"})}):2==(null===e||void 0===e?void 0:e.status)?(0,w.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.DANGER),"data-pc-name":"tag","data-pc-section":"root",children:(0,w.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Rejected"})}):(0,w.jsx)("span",{className:"p-tag p-component cursor_pointer badge  text-light fw-semibold px-3 rounded-4 py-2 me-2 status_font ".concat(g.Ez.WARNING),"data-pc-name":"tag","data-pc-section":"root",children:(0,w.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:"Pending"})})})}),(0,w.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>(0,w.jsxs)("div",{className:"action-btn",children:[(0,w.jsx)(n.N_,{onClick:()=>{Q(e),ce(!0)},state:e,className:"text-custom-theam edit cursor_pointer",children:(0,w.jsx)("i",{className:"ti ti-eye fs-7"})}),0==(null===e||void 0===e?void 0:e.status)?(0,w.jsx)("a",{className:"text-danger delete ms-2 cursor_pointer",onClick:()=>{var a,s;a=e,s="cancel",ne(!0),Q((0,l.A)((0,l.A)({},a),{},{actionType:s}))},children:(0,w.jsx)("i",{className:"ti ti-trash fs-7"})}):(0,w.jsx)("a",{className:"text-danger delete ms-2 disabled-status",children:(0,w.jsx)("i",{className:"ti ti-trash fs-7"})})]})})]}),(0,w.jsx)("div",{className:"",children:(0,w.jsx)(N.A,{per_page:50,pageCount:null===D||void 0===D?void 0:D.total_count,onPageChange:e=>{_e(e)},page:ye})})]})})]})]}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(de?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsxs)("h6",{className:"modal-title fs-5",children:["Add Leave Balance"," "]}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Ee()}})]}),(0,w.jsx)("div",{className:"modal-body",children:(0,w.jsx)("form",{onSubmit:O(async e=>{s((0,v.iC)(!0));let a={balance:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_BALANCE],employee_id:e[null===g.ic||void 0===g.ic?void 0:g.ic.EMPLOYEE],leave_type:e[null===g.ic||void 0===g.ic?void 0:g.ic.LEAVE_TYPE]};(0,c.sz)(a).then(e=>{(null===e||void 0===e?void 0:e.code)==h.NC.SUCCESS?(z(),(0,r.k1)(null===e||void 0===e?void 0:e.message),Ee(),s((0,v.iC)(!1)),s((0,v.NI)({}))):(s((0,v.iC)(!1)),(0,r.uU)(null===e||void 0===e?void 0:e.message))})}),children:(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsx)("div",{className:"card-body p-4",children:(0,w.jsxs)("div",{className:"row g-3",children:[(0,w.jsx)("div",{className:"col-12 col-md-6"}),(0,w.jsx)("div",{className:"col-12 col-md-6",children:(0,w.jsxs)("div",{className:"mb-1",children:[(0,w.jsxs)("label",{htmlFor:"payment_status",className:"form-label fw-semibold",children:["Leave Type",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)("div",{className:"input-group border rounded-1",children:(0,w.jsx)("select",(0,l.A)((0,l.A)({id:"payment_status",className:"form-control ps-2",autoComplete:"off",style:{fontWeight:"600"}},M(g.ic.LEAVE_TYPE,{required:"Select leave type"})),{},{children:(0,p.MT)(g.SB)}))}),(0,w.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=q[g.ic.LEAVE_TYPE])||void 0===e?void 0:e.message})]})}),(0,w.jsxs)("div",{className:"mb-1",children:[(0,w.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Leave Balance",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)("div",{className:"input-group border rounded-1",children:(0,w.jsx)("input",(0,l.A)({type:"number",step:"0.01",className:"form-control ps-2",placeholder:"Enter leave balance",autoComplete:"false"},M(g.ic.LEAVE_BALANCE,{required:"Enter leave balance"})))}),(0,w.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(a=q[g.ic.LEAVE_BALANCE])||void 0===a?void 0:a.message})]}),(0,w.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{Ee()},children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})})]})})}),de&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(te?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsxs)("h6",{className:"modal-title fs-4",children:["approved"===(null===Z||void 0===Z?void 0:Z.actionType)?"Are you sure approve leave ?":"Cancel Leave"," "]}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{Le()}})]}),(0,w.jsx)("div",{className:"modal-body",children:(0,w.jsx)("form",{onSubmit:H(async e=>{s((0,v.iC)(!0)),C(!0);try{let a={leaveId:null===Z||void 0===Z?void 0:Z.leave_id,status:"approved"===(null===Z||void 0===Z?void 0:Z.actionType)?"1":"2",admin_reason:null!==e&&void 0!==e&&e.reason?null===e||void 0===e?void 0:e.reason:""};const d=await(0,c.pq)(a);if(d&&d.code===h.NC.SUCCESS){(0,r.k1)(d.message||"Success");const a=null===D||void 0===D?void 0:D.map(a=>(null===Z||void 0===Z?void 0:Z.leave_id)===a.leave_id?(0,l.A)((0,l.A)({},a),{},{status:"approved"===(null===Z||void 0===Z?void 0:Z.actionType)?"1":"2",admin_reason:null!==e&&void 0!==e&&e.reason?null===e||void 0===e?void 0:e.reason:""}):a);s((0,v.M4)()),s((0,v.j)(a)),Q({}),Le()}else{const e=d&&d.message?d.message:"Something went wrong while updating status.";(0,r.uU)(e)}}catch(a){console.error("handleStatus error:",a),(0,r.uU)((null===a||void 0===a?void 0:a.message)||"An unexpected error occurred.")}finally{C(!1),s((0,v.iC)(!1))}}),children:(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsx)("div",{className:"card-body pt-4 p-2",children:(0,w.jsxs)("div",{className:"row g-3",children:[(0,w.jsx)("input",(0,l.A)({type:"hidden",value:2},M("actionType"))),(0,w.jsx)("input",(0,l.A)({type:"hidden",value:"Cancelled by Employee"},B(g.ic.REASON))),(0,w.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[(0,w.jsx)("div",{className:"d-flex justify-content-center align-items-center rounded-circle mb-3",style:{width:"70px",height:"70px",border:"2px solid #1F7494"},children:(0,w.jsx)(f.WFf,{color:"#1F7494",size:32})}),(0,w.jsx)("h5",{className:"fw-bold mb-2",children:"Are you sure ?"}),(0,w.jsxs)("p",{className:"text-muted mb-0",children:["Do you really want to",(0,w.jsx)("span",{className:"fw-semibold ",children:" cancel this leave"})," ?"]})]}),(0,w.jsxs)("div",{className:"modal-footer justify-content-center border-0",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-danger",onClick:Le,children:"No, Keep Leave"}),(0,w.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Yes, Cancel Leave"})]})]})})})})})]})})}),te&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(oe?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsx)("h6",{className:"modal-title fs-5",children:" Leave Details "}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{ce(!1),Q({})}})]}),(0,w.jsx)("div",{className:"modal-body ",children:(0,w.jsxs)("div",{className:"row m-2",children:[[{label:"Leave Type",value:null===Z||void 0===Z?void 0:Z.leave_type},{label:"Request Date",value:(0,p.Yq)(null===Z||void 0===Z?void 0:Z.created_at,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"Days",value:null===Z||void 0===Z?void 0:Z.days},{label:"Start Date",value:(0,p.Yq)(null===Z||void 0===Z?void 0:Z.start_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"End Date",value:(0,p.Yq)(null===Z||void 0===Z?void 0:Z.end_date,null===g.ow||void 0===g.ow?void 0:g.ow.DATE_FORMAT)},{label:"",value:""}].map((e,a)=>(0,w.jsx)("div",{className:"col-md-4 mb-4 pb-2",children:"Reason"==(null===e||void 0===e?void 0:e.label)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,w.jsx)("h6",{dangerouslySetInnerHTML:{__html:e.value}})]}):e.value&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,w.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:e.value||"N/A"})]})},a)),(null===Z||void 0===Z?void 0:Z.reason)&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,w.jsx)("p",{className:"mb-1 fs-4",children:"Reason"}),(0,w.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:Z.reason||"N/A"})]})}),(null===Z||void 0===Z?void 0:Z.admin_reason)&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,w.jsx)("p",{className:"mb-1 fs-4",children:"Admin Reason"}),(0,w.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:Z.admin_reason||"N/A"})]})})]})})]})})}),oe&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),I.isOpen&&(null===I||void 0===I?void 0:I.modalType)===h.bt.DELETE_MODEL&&(0,w.jsx)(b.A,{children:(0,w.jsx)(j.b3,{onConfirm:e=>{if(e){s((0,v.iC)(!0));let e={loan_id:null===Z||void 0===Z?void 0:Z.id,is_deleted:!0};(0,c._i)(e).then(e=>{if(e.status_code===(null===h.NC||void 0===h.NC?void 0:h.NC.SUCCESS)){C(!1);const a=null===D||void 0===D?void 0:D.filter(e=>e.id!==(null===Z||void 0===Z?void 0:Z.id));s((0,v.Kd)((0,l.A)((0,l.A)({},D),{},{loan_applications:a}))),(0,p.MF)(s),s((0,v.iC)(!1)),(0,r.k1)(null===e||void 0===e?void 0:e.message)}})}}})})]})}}}]);