"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[5544],{75544:(e,l,s)=>{s.r(l),s.d(l,{default:()=>w});var i=s(89379),a=s(9950),n=(s(4695),s(28429)),d=s(9449),t=(s(20404),s(12815),s(97514),s(82391)),o=s(52610),c=s(79739),r=(s(40078),s(34263)),v=s(32003),u=(s(25825),s(70591)),m=s(82543),p=s(82569);s(59091),s(77923),s(98631),s(38441);var h=s(61977),b=s(44414);const N={APPLICATION_SUBMITTED:"Application Submitted",PENDING:"Loan Approval (Pending)",UNDER_REVIEW:"Loan Approval (Under Review)",ON_HOLD:"Loan Approval (On Hold)",APPROVED:"Loan Approval (Completed)",REJECTED:"Loan Approval (Rejected)",CANCELLED:"Loan Approval (Cancelled)",AADHAR_VERIFIED:"Aadhar Verified (Completed)",AADHAR_VERIFIED_PENDING:"Aadhar Verification (Pending)",BANK_VERIFIED:"Bank Verified (Completed)",BANK_VERIFIED_PENDING:"Bank Verification (Pending)",USER_ACCEPTED:"User Accepted (Completed)",USER_ACCEPTED_PENDING:"User Accepted (Pending)",E_MANDATE_GENERATED:"E-Mandate Setup (Completed)",E_MANDATE_GENERATED_PENDING:"E-Mandate Setup (Pending)",DISBURSEMENT_APPROVAL_PENDING:"Loan Disbursed (Pending)",DISBURSEMENT_APPROVED:"Loan Disbursed (Approved)",DISBURSED:"Loan Disbursed (Completed)",COMPLETED:"Loan Completed",COMPLETED_PENDING:"Loan Completion (Pending)",CLOSED:"Loan Closed"},E={APPLICATION_SUBMITTED:"APPLICATION_SUBMITTED",PENDING:"PENDING",UNDER_REVIEW:"UNDER_REVIEW",ON_HOLD:"ON_HOLD",APPROVED:"APPROVED",REJECTED:"REJECTED",AADHAR_VERIFIED:"AADHAR_VERIFIED",AADHAR_VERIFIED_PENDING:"AADHAR_VERIFIED_PENDING",BANK_VERIFIED:"BANK_VERIFIED",BANK_VERIFIED_PENDING:"BANK_VERIFIED_PENDING",USER_ACCEPTED:"USER_ACCEPTED",USER_ACCEPTED_PENDING:"USER_ACCEPTED_PENDING",E_MANDATE_GENERATED:"E_MANDATE_GENERATED",E_MANDATE_GENERATED_PENDING:"E_MANDATE_GENERATED_PENDING",DISBURSEMENT_APPROVAL_PENDING:"DISBURSEMENT_APPROVAL_PENDING",DISBURSEMENT_APPROVED:"DISBURSEMENT_APPROVED",DISBURSED:"DISBURSED",COMPLETED:"COMPLETED",COMPLETED_PENDING:"COMPLETED_PENDING",CANCELLED:"CANCELLED",CLOSED:"CLOSED"},x=e=>{var l,s,i,n,d,t,o,c,r,v;let{loneDetails:u}=e;const[m,p]=(0,a.useState)(1),[h,x]=(0,a.useState)(null),f=[{id:1,key:E.APPLICATION_SUBMITTED,title:N.APPLICATION_SUBMITTED},{id:2,key:(null===u||void 0===u?void 0:u.status)===E.AADHAR_VERIFIED||null!==u&&void 0!==u&&u.aadhaar_verified?E.AADHAR_VERIFIED:E.AADHAR_VERIFIED_PENDING,title:(null===u||void 0===u?void 0:u.status)===E.AADHAR_VERIFIED||null!==u&&void 0!==u&&u.aadhaar_verified?N.AADHAR_VERIFIED:N.AADHAR_VERIFIED_PENDING},{id:3,key:(null===u||void 0===u?void 0:u.status)===E.APPROVED||(null===u||void 0===u||null===(l=u.approval_details)||void 0===l?void 0:l.length)>0?E.APPROVED:(null===u||void 0===u?void 0:u.status)===E.REJECTED?E.REJECTED:(null===u||void 0===u?void 0:u.status)===E.CANCELLED?E.CANCELLED:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.UNDER_REVIEW)?E.UNDER_REVIEW:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.ON_HOLD)?E.ON_HOLD:E.PENDING,title:(null===u||void 0===u?void 0:u.status)===E.APPROVED||(null===u||void 0===u||null===(s=u.approval_details)||void 0===s?void 0:s.length)>0?N.APPROVED:(null===u||void 0===u?void 0:u.status)===E.REJECTED?N.REJECTED:(null===u||void 0===u?void 0:u.status)===E.CANCELLED?N.CANCELLED:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.UNDER_REVIEW)?N.UNDER_REVIEW:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.ON_HOLD)?N.ON_HOLD:N.PENDING},{id:4,key:(null===u||void 0===u?void 0:u.status)===E.USER_ACCEPTED||(null===u||void 0===u||null===(i=u.approval_details)||void 0===i?void 0:i.length)>0?E.USER_ACCEPTED:E.USER_ACCEPTED_PENDING,title:(null===u||void 0===u?void 0:u.status)===E.USER_ACCEPTED||(null===u||void 0===u||null===(n=u.approval_details)||void 0===n?void 0:n.length)>0?N.USER_ACCEPTED:N.USER_ACCEPTED_PENDING},{id:5,key:(null===u||void 0===u?void 0:u.status)===E.BANK_VERIFIED||(null===u||void 0===u||null===(d=u.bank_accounts)||void 0===d?void 0:d.length)>0?E.BANK_VERIFIED:E.BANK_VERIFIED_PENDING,title:(null===u||void 0===u?void 0:u.status)===E.BANK_VERIFIED||(null===u||void 0===u||null===(t=u.bank_accounts)||void 0===t?void 0:t.length)>0?N.BANK_VERIFIED:N.BANK_VERIFIED_PENDING},{id:6,key:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.E_MANDATE_GENERATED)||(null===u||void 0===u||null===(o=u.plan_details)||void 0===o?void 0:o.length)>0||(null===u||void 0===u?void 0:u.status)===E.DISBURSEMENT_APPROVAL_PENDING?null===E||void 0===E?void 0:E.E_MANDATE_GENERATED:null===E||void 0===E?void 0:E.E_MANDATE_GENERATED_PENDING,title:(null===u||void 0===u?void 0:u.status)===(null===E||void 0===E?void 0:E.E_MANDATE_GENERATED)||(null===u||void 0===u||null===(c=u.plan_details)||void 0===c?void 0:c.length)>0||(null===u||void 0===u?void 0:u.status)===E.DISBURSEMENT_APPROVAL_PENDING?null===N||void 0===N?void 0:N.E_MANDATE_GENERATED:null===N||void 0===N?void 0:N.E_MANDATE_GENERATED_PENDING},{id:7,key:(null===u||void 0===u?void 0:u.status)===E.DISBURSED||(null===u||void 0===u||null===(r=u.loan_disbursement)||void 0===r?void 0:r.length)>0?E.DISBURSED:(null===u||void 0===u?void 0:u.status)===E.DISBURSEMENT_APPROVED?E.DISBURSEMENT_APPROVED:E.DISBURSEMENT_APPROVAL_PENDING,title:(null===u||void 0===u?void 0:u.status)===E.DISBURSED||(null===u||void 0===u||null===(v=u.loan_disbursement)||void 0===v?void 0:v.length)>0?N.DISBURSED:(null===u||void 0===u?void 0:u.status)===N.DISBURSEMENT_APPROVED?N.DISBURSEMENT_APPROVED:N.DISBURSEMENT_APPROVAL_PENDING},{id:8,key:(null===u||void 0===u?void 0:u.status)===E.COMPLETED?E.COMPLETED:(null===u||void 0===u?void 0:u.status)===E.CLOSED?E.CLOSED:E.COMPLETED_PENDING,title:(null===u||void 0===u?void 0:u.status)===E.COMPLETED?N.COMPLETED:(null===u||void 0===u?void 0:u.status)===E.CLOSED?N.CLOSED:N.COMPLETED_PENDING}];return(0,a.useEffect)(()=>{var e,l,s,i;let a="";a=(null===u||void 0===u?void 0:u.status)!==E.APPLICATION_SUBMITTED||null!==u&&void 0!==u&&u.aadhaar_verified?(null===u||void 0===u?void 0:u.status)===E.APPLICATION_SUBMITTED&&null!==u&&void 0!==u&&u.aadhaar_verified?E.AADHAR_VERIFIED:(null===u||void 0===u?void 0:u.status)===E.PENDING?E.PENDING:(null===u||void 0===u?void 0:u.status)===E.APPROVED?E.APPROVED:(null===u||void 0===u?void 0:u.status)===E.USER_ACCEPTED&&0===(null===u||void 0===u||null===(e=u.bank_accounts)||void 0===e?void 0:e.length)?E.USER_ACCEPTED:(null===u||void 0===u?void 0:u.status)===E.BANK_VERIFIED&&(null===u||void 0===u||null===(l=u.bank_accounts)||void 0===l?void 0:l.length)>0&&(null===u||void 0===u?void 0:u.status)!==E.DISBURSED&&0===(null===u||void 0===u||null===(s=u.plan_details)||void 0===s?void 0:s.length)?E.BANK_VERIFIED:(null===u||void 0===u?void 0:u.status)===E.E_MANDATE_GENERATED_PENDING&&(null===u||void 0===u||null===(i=u.plan_details)||void 0===i?void 0:i.length)>0&&(null===u||void 0===u?void 0:u.status)!==E.DISBURSED&&(null===u||void 0===u?void 0:u.status)!==E.COMPLETED||(null===u||void 0===u?void 0:u.status)===E.DISBURSEMENT_APPROVAL_PENDING?E.E_MANDATE_GENERATED:(null===u||void 0===u?void 0:u.status)===E.DISBURSED?E.DISBURSED:(null===u||void 0===u?void 0:u.status)===E.COMPLETED?E.COMPLETED:(null===u||void 0===u?void 0:u.status)===E.CLOSED?E.CLOSED:null===u||void 0===u?void 0:u.status:E.APPLICATION_SUBMITTED,x((e=>{const l=null===f||void 0===f?void 0:f.find(l=>(null===l||void 0===l?void 0:l.key)===e);return console.log("matchmatch",f,e,l),l?l.id:1})(a))},[u]),u?(0,b.jsx)("div",{className:"justify-content-center mt-0",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-2 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Loan Activity"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{class:"container ",children:(0,b.jsx)("div",{class:"stepper-wrapper",children:null===f||void 0===f?void 0:f.map((e,l)=>{var s,i;const a=e.id===h,n=e.id<h,d=["rejected","cancelled"].includes(null===e||void 0===e||null===(s=e.key)||void 0===s?void 0:s.toLowerCase()),t=f.findIndex(e=>{var l;return["rejected","cancelled"].includes(null===e||void 0===e||null===(l=e.key)||void 0===l?void 0:l.toLowerCase())}),o=-1!==t&&l>t,[c,r]=e.title.split(" (");return(0,b.jsxs)("div",{className:"stepper-item ".concat(n||a?"active":""," ").concat(o?"disabled":""),children:[(0,b.jsx)("div",{className:"step-counter ".concat(d?"step-counter-rejected":""),children:e.id}),(0,b.jsxs)("div",{className:"step-label font-semibold ".concat(d?"step-label-rejected":""),children:[null===c||void 0===c||null===(i=c.toLowerCase())||void 0===i?void 0:i.replace(/\b\w/g,e=>e.toUpperCase()),r&&(0,b.jsxs)("span",{className:"small text-muted",children:[" (",r.replace(")",""),")"]})]})]},e.id)})})})]})})})}):null},f=e=>{var l,s,i,a,n,d,t,o,c;let{loanDetailsData:r}=e;const v=(null===r||void 0===r||null===(l=r.approval_details)||void 0===l?void 0:l.length)>0&&(null===r||void 0===r?void 0:r.approval_details[0]);(null===r||void 0===r||null===(s=r.bank_accounts)||void 0===s?void 0:s.length)>0&&(null===r||void 0===r||r.bank_accounts[0]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x,{loneDetails:r}),(0,b.jsx)("div",{className:"justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsx)("div",{className:"p-8 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Loan Details"})}),(0,b.jsx)("div",{className:"row",children:[{label:"Loan ID",value:null===r||void 0===r?void 0:r.loan_uid},{label:"Loan Type",value:null===(i=(0,u.ex)(null===r||void 0===r?void 0:r.loan_type))||void 0===i?void 0:i.value},{label:"Name",value:null===r||void 0===r?void 0:r.name},{label:"Gender",value:null===r||void 0===r?void 0:r.gender},{label:"Apply Date",value:(0,u.Yq)(null===r||void 0===r?void 0:r.created_at,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_DOT_TIME_FORMAT)||"-"},{label:"CIBIL Score",value:null===r||void 0===r?void 0:r.credit_score},{label:"Mobile Number",value:null===r||void 0===r?void 0:r.phone_number},{label:"Email Address",value:null===r||void 0===r?void 0:r.email},{label:"Date Of Birth",value:(0,u.Yq)(null===r||void 0===r?void 0:r.date_of_birth,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_FORMAT)},{label:"Company Name",value:null===r||void 0===r?void 0:r.company_name},{label:"Company Address",value:null===r||void 0===r?void 0:r.company_address},{label:"Designation",value:null===r||void 0===r?void 0:r.designation},{label:"Purpose Of Loan",value:null===r||void 0===r?void 0:r.purpose_of_loan},{label:"Address",value:null===r||void 0===r?void 0:r.address}].map((e,l)=>(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:e.label}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 ".concat("Email Address"===e.label?"":"text-capitalize"),children:e.value})]},l))})]})})})}),(0,b.jsx)("div",{className:"justify-content-center mt-0",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Loan Calculation"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{className:"row",children:[{label:"Annual Income",value:"".concat((0,u.uL)(null===r||void 0===r?void 0:r.annual_income))},{label:"Desired Loan",value:(0,u.uL)(null===r||void 0===r?void 0:r.desired_loan)},{label:"Admin Approved Amount",value:null!==r&&void 0!==r&&r.approved_loan?"".concat((0,u.uL)(null===r||void 0===r?void 0:r.approved_loan)):null},(null===r||void 0===r||null===(a=r.approval_details)||void 0===a?void 0:a.length)>0&&{label:"User Approved Amount",value:(0,u.uL)(null===v||void 0===v?void 0:v.user_accepted_amount)},(null===r||void 0===r||null===(n=r.approval_details)||void 0===n?void 0:n.length)>0&&{label:"Interest Rate",value:"".concat(null===v||void 0===v?void 0:v.approved_interest_rate," %")},(null===r||void 0===r||null===(d=r.approval_details)||void 0===d?void 0:d.length)>0&&{label:"Tenure",value:(null===v||void 0===v?void 0:v.approved_tenure_months)+" Months"},(null===r||void 0===r||null===(t=r.approval_details)||void 0===t?void 0:t.length)>0&&{label:"Processing Fee",value:(0,u.uL)(null===r||void 0===r?void 0:r.processing_fee_charge)||"-"},(null===r||void 0===r||null===(o=r.approval_details)||void 0===o?void 0:o.length)>0&&{label:"Other Charge",value:(0,u.uL)(null===r||void 0===r?void 0:r.other_charges)},(null===r||void 0===r||null===(c=r.approval_details)||void 0===c?void 0:c.length)>0&&{label:"Final Amount",value:null!==v&&void 0!==v&&v.disbursed_amount?(0,b.jsx)("span",{className:"text-success",children:(0,u.uL)(null===v||void 0===v?void 0:v.disbursed_amount)}):"-"},(null===r||void 0===r?void 0:r.remarks)&&{label:"Remarks",value:null===r||void 0===r?void 0:r.remarks}].filter(Boolean).map((e,l)=>(0,b.jsx)(b.Fragment,{children:e.value&&(0,b.jsxs)("div",{className:"mb-4 ".concat("Remarks"===e.label?"col-md-12":"col-md-4"),children:[(0,b.jsx)("p",{className:"mb-1 fs-5",children:e.label}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-6",children:e.value})]},l)}))})]})})})})]})};var _=s(50327);const j=e=>{var l,s,i;let{loanDetailsData:a}=e;(null===a||void 0===a||null===(l=a.approval_details)||void 0===l?void 0:l.length)>0&&(null===a||void 0===a||a.approval_details[0]);const n=(null===a||void 0===a||null===(s=a.loan_disbursement)||void 0===s?void 0:s.length)>0&&(null===a||void 0===a?void 0:a.loan_disbursement[0]);return console.log("loanDisbursementloanDisbursement",n),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"col-12 justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Disbursement Details"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{className:"row",children:n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Payment Date"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:(0,u.Yq)(null===n||void 0===n?void 0:n.payment_date,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_DOT_TIME_FORMAT)})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Payment Type"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize ",children:null===(i=(0,u.eN)(null===n||void 0===n?void 0:n.payment_type))||void 0===i?void 0:i.value})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Transferred Amount"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:(0,u.uL)(null===n||void 0===n?void 0:n.transferred_amount)})]}),(null===n||void 0===n?void 0:n.account_number)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Account Holder Name"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize ",children:null===n||void 0===n?void 0:n.account_holder_name})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Bank Name"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.bank_name})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Account Number"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize ",children:null===n||void 0===n?void 0:n.account_number})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"IFSC Code"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.ifsc_code})]})]}),(null===n||void 0===n?void 0:n.upi_id)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"UPI ID"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.upi_id})]}),(0,b.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Transaction Number"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.transaction_id})]})]}),(null===n||void 0===n?void 0:n.cheque_number)&&(0,b.jsxs)("div",{className:"col-12 mb-7",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"CHEQUE Number"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.cheque_number})]}),(null===n||void 0===n?void 0:n.remarks)&&(0,b.jsxs)("div",{className:"col-12 mb-7",children:[(0,b.jsx)("p",{className:"mb-1 fs-4",children:"Remarks"}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:null===n||void 0===n?void 0:n.remarks})]})]})}),(null===n||void 0===n?void 0:n.payment_file)&&(0,b.jsx)("div",{className:"col-4 mb-3",children:(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between pt-2 border-bottom pb-3",children:[(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-5 text-capitalize",children:"Payment Proof"}),(0,b.jsxs)("a",{href:null===n||void 0===n?void 0:n.payment_file,download:!0,target:"_blank",rel:"noopener noreferrer",className:"d-flex align-items-center gap-2 text-decoration-none me-4",children:[(0,b.jsx)("span",{style:{color:"#1A237E",fontWeight:"500",fontSize:"15px"},children:"View"}),(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-center rounded-circle me-3",style:{width:"30px",height:"30px",backgroundColor:"#1A237E",color:"#fff"},children:(0,b.jsx)(_.kIi,{size:15})})]})]})})]})})})})})},D=e=>{var l,s,n,c,p;let{loanDetailsData:h,setApiReload:N}=e;const{register:E,handleSubmit:x,setValue:f,clearErrors:j,reset:D,watch:g,control:A,formState:{errors:y}}=(0,d.mN)(),[I,P]=(0,a.useState)(!1),[R,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[T,L]=(0,a.useState)(!1),[O,k]=(0,a.useState)(null);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"col-12 justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"card overflow-hidden chat-application",children:[(0,b.jsx)("div",{className:"p-md-4 p-4 row_2",children:(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Loan Document Details"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]})}),(0,b.jsx)("div",{className:"p-4 d-grid row_2 gap-5",children:(null===h||void 0===h||null===(l=h.documents)||void 0===l?void 0:l.length)>0&&(null===h||void 0===h?void 0:h.documents.map((e,l)=>{var s;return(0,b.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between py-3 border-bottom",children:[(0,b.jsxs)("div",{className:"d-flex flex-column",children:[(0,b.jsx)("h6",{className:"fw-semibold mb-1 fs-5",children:null===(s=(0,u.$I)(null===e||void 0===e?void 0:e.document_type))||void 0===s?void 0:s.value}),e.document_number&&(0,b.jsxs)("small",{className:"text-muted fs-4 fw-semibold",children:["Document No: ",e.document_number||" NA"]})]}),(null===e||void 0===e?void 0:e.document_file)&&(0,b.jsxs)("a",{href:e.document_file,download:!0,target:"_blank",rel:"noopener noreferrer",className:"d-flex align-items-center gap-2 text-decoration-none",children:[(0,b.jsx)("span",{style:{color:"#1A237E",fontWeight:"500",fontSize:"15px"},children:"View"}),(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-center rounded-circle me-3",style:{width:"30px",height:"30px",backgroundColor:"#1A237E",color:"#fff"},children:(0,b.jsx)(_.kIi,{size:15})})]})]},l)}))})]})})}),"DISBURSED"===(null===h||void 0===h?void 0:h.status)&&(0,b.jsx)("div",{className:"col-12 justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"card overflow-hidden chat-application",children:[(0,b.jsx)("div",{className:"p-md-4 p-4 row_2",children:(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user row align-items-center mb-4",children:[(0,b.jsx)("div",{className:"col-12 col-md-8",children:(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Upload Loan Document"})}),(0,b.jsx)("div",{className:"col-12 col-md-4 text-md-end mt-3 mt-md-0",children:(0,b.jsx)("button",{type:"button",className:"btn btn-primary btn-md p-2",onClick:()=>{P(!0)},children:"Add Document"})})]})}),(null===h||void 0===h||null===(s=h.loan_approved_document)||void 0===s?void 0:s.length)>0?(0,b.jsx)("div",{className:"p-4 d-grid row_2 gap-5",children:null===h||void 0===h||null===(n=h.loan_approved_document)||void 0===n?void 0:n.map((e,l)=>(0,b.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between py-3 border-bottom",children:[(0,b.jsx)("div",{className:"d-flex flex-column",children:(0,b.jsx)("h6",{className:"fw-semibold mb-1 fs-5",children:null===e||void 0===e?void 0:e.document_name})}),(0,b.jsxs)("div",{className:"d-flex align-items-center gap-3 mt-3 mt-md-0 flex-shrink-0",children:[(null===e||void 0===e?void 0:e.document_file)&&(0,b.jsxs)("a",{href:e.document_file,download:!0,target:"_blank",rel:"noopener noreferrer",className:"d-flex flex-column align-items-center text-decoration-none",style:{minWidth:"60px"},children:[(0,b.jsx)("small",{style:{color:"#1A237E",fontWeight:"500",fontSize:"12px",marginTop:"4px"},children:"View"}),(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-center rounded-circle me-3",style:{width:"40px",height:"40px",backgroundColor:"#1A237E",color:"#fff"},children:(0,b.jsx)(_.kIi,{size:25})})]}),(0,b.jsxs)("button",{type:"button",className:"d-flex flex-column align-items-center border-0 bg-transparent p-0",style:{minWidth:"60px"},onClick:()=>{return l=e,f(m.ic.TITLE,null===l||void 0===l?void 0:l.document_name),w((0,u.Jt)(null===l||void 0===l?void 0:l.document_file)),C(null===l||void 0===l?void 0:l.document_file),P(!0),L(!0),void k(l);var l},children:[(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-center rounded-circle",style:{width:"40px",height:"40px",backgroundColor:"#1A237E",color:"#fff"},children:(0,b.jsx)(_.Yvo,{size:25})}),(0,b.jsx)("small",{style:{color:"#1A237E",fontWeight:"500",fontSize:"12px",marginTop:"4px"},children:"Edit"})]}),(0,b.jsxs)("button",{type:"button",className:"d-flex flex-column align-items-center border-0 bg-transparent p-0",style:{minWidth:"60px"},onClick:()=>(e=>{const l={document_id:null===e||void 0===e?void 0:e.id};(0,o.ou)(l).then(e=>{(null===e||void 0===e?void 0:e.status_code)===v.NC.SUCCESS?(N(!0),(0,t.k1)(null===e||void 0===e?void 0:e.message),N(!1),D()):(0,t.uU)(null===e||void 0===e?void 0:e.message)})})(e),children:[(0,b.jsx)("div",{className:"d-flex align-items-center justify-content-center rounded-circle",style:{width:"40px",height:"40px",backgroundColor:"#B71C1C",color:"#fff"},children:(0,b.jsx)(_.b6i,{size:25})}),(0,b.jsx)("small",{style:{color:"#B71C1C",fontWeight:"500",fontSize:"12px",marginTop:"4px"},children:"Delete"})]})]})]},l))}):(0,b.jsx)("div",{className:"text-center py-5",children:(0,b.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{color:"#6c757d"},children:(0,b.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:"No Document Found"})})})]})})}),(0,b.jsx)("div",{className:"modal custom-modal  ".concat(I?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,b.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,b.jsxs)("div",{className:"modal-content border-0",children:[(0,b.jsxs)("div",{className:"modal-header bg-primary ",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,b.jsxs)("h6",{className:"modal-title fs-5",children:[T?"Edit":"Add"," Completion Document"]}),(0,b.jsx)("button",{type:"button",className:"btn-close btn-close-dark","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{P(!1),w(null),L(!1),k(null),D()}})]}),(0,b.jsx)("div",{className:"modal-body",children:(0,b.jsx)("form",{onSubmit:x(async e=>{let l=S;l instanceof Blob&&(l=await(0,r.Z)(l,null===v.ON||void 0===v.ON?void 0:v.ON.ADHAR_IMAGE)),N(!0);const s={applicant_id:null===h||void 0===h?void 0:h.id,document_name:e[m.ic.TITLE],document_file:l};T?(s.document_id=null===O||void 0===O?void 0:O.id,(0,o.Md)(s).then(e=>{(null===e||void 0===e?void 0:e.status_code)===v.NC.SUCCESS?((0,t.k1)(null===e||void 0===e?void 0:e.message),P(!1),w(null),N(!1),D()):(N(!1),(0,t.uU)(null===e||void 0===e?void 0:e.message),P(!1),D())})):(0,o.iG)(s).then(e=>{(null===e||void 0===e?void 0:e.status_code)===v.NC.SUCCESS?(N(!0),(0,t.k1)(null===e||void 0===e?void 0:e.message),P(!1),N(!1),D()):((0,t.uU)(null===e||void 0===e?void 0:e.message),D(),P(!1))})}),children:(0,b.jsx)("div",{className:"col-lg-12",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("div",{className:"row d-flex gap-3",children:(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{htmlFor:"question",className:"form-label fw-semibold",children:["Document Name ",(0,b.jsx)("span",{className:"text-danger ms-1",children:" *"})]}),(0,b.jsx)("input",(0,i.A)({type:"text",className:"form-control ps-2",placeholder:"Enter document name"},E(m.ic.TITLE,{required:"Enter document name"}))),(0,b.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(c=y[m.ic.TITLE])||void 0===c?void 0:c.message})]})})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{htmlFor:"lastname",className:"form-label fw-semibold",children:["Loan Completion File",(0,b.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,b.jsx)("div",{className:"input-group border rounded-1",children:(0,b.jsx)("input",(0,i.A)((0,i.A)({className:"form-control ps-2",type:"file",id:"formFileMultiple",accept:".pdf, image/jpeg, image/png"},E(m.ic.LOAN_COMPLETION_FILE,{required:!R&&"Upload your loan completion file"})),{},{onChange:async e=>{var l;const s=null===(l=e.target.files)||void 0===l?void 0:l[0];C(s),w(s.name),j(null===m.ic||void 0===m.ic?void 0:m.ic.LOAN_COMPLETION_FILE)}}))}),R&&(0,b.jsxs)("small",{className:"text-muted mt-1 d-block",children:["Selected file: ",R]}),(0,b.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(p=y[m.ic.LOAN_COMPLETION_FILE])||void 0===p?void 0:p.message})]}),(0,b.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{P(!1),L(!1),w(null),k(null),D()},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:T?"Update":"Submit"})]})]})})})})]})})}),I&&(0,b.jsx)("div",{className:"modal-backdrop fade show"})]})};var g=s(90917),A=s(25495);const y=e=>{let{loanDetailsData:l}=e;const[s,n]=(0,a.useState)([]),d=null!==l&&void 0!==l&&l.e_mandate_payment_track&&"object"===typeof l.e_mandate_payment_track?l.e_mandate_payment_track:{},t=async e=>{if(!await new Promise(e=>{const l=document.createElement("script");l.src="https://checkout.razorpay.com/v1/checkout.js",l.onload=()=>e(!0),l.onerror=()=>e(!1),document.body.appendChild(l)}))return void alert("Failed to load Razorpay SDK");const l={key:v.Ay.RAZORPAY_KEY,amount:Math.round(100*e.amount),currency:"INR",name:"TruePay",description:"Pay EMI for ".concat((null===e||void 0===e?void 0:e.emi_date)||""),image:"/logo.png",handler:function(e){console.log("Payment successful:",e)},prefill:{name:"Test Admin",email:"test@example.com",contact:"1234567890"},theme:{color:"#1F7494"}};new window.Razorpay(l).open()};return console.log("SceduleListSceduleList",s),(0,a.useEffect)(()=>{(0,o.Zp)({loan_id:null===l||void 0===l?void 0:l.id}).then(e=>{if(e.status_code===v.NC.SUCCESS){var l;console.log("EMISchedule",e);const s=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.schedule_data)||[],a=(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(e=>(0,i.A)((0,i.A)({},e),{},{is_emi_bounce:"cancelled"===(null===e||void 0===e?void 0:e.status),is_emi_paid:"paid"===(null===e||void 0===e?void 0:e.status)})));n(a)}else n([])})},[]),console.log("SceduleListSceduleList",s),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"justify-content-center mt-0",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"EMI Details"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{className:"row",children:[{label:"Start Date",value:"".concat((0,u.Yq)(null===d||void 0===d?void 0:d.start_at,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_FORMAT))},{label:"End Date",value:"".concat((0,u.Yq)(null===d||void 0===d?void 0:d.end_at,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_FORMAT))},{label:"Last EMI Paid On",value:null!==d&&void 0!==d&&d.latest_paid_at?"".concat((0,u.Yq)(null===d||void 0===d?void 0:d.latest_paid_at,null===m.ow||void 0===m.ow?void 0:m.ow.DATE_FORMAT)):"-"},{label:"Paid EMIs",value:null!==d&&void 0!==d&&d.paid_count?null===d||void 0===d?void 0:d.paid_count:"-"},{label:"Remaining EMIs",value:null!==d&&void 0!==d&&d.remaining_count?null===d||void 0===d?void 0:d.remaining_count:"-"},{label:"Total EMIs",value:null!==d&&void 0!==d&&d.total_count?null===d||void 0===d?void 0:d.total_count:"-"}].filter(Boolean).map((e,l)=>(0,b.jsx)(b.Fragment,{children:e.value&&(0,b.jsxs)("div",{className:"mb-4 ".concat("Remarks"===e.label?"col-md-12":"col-md-4"),children:[(0,b.jsx)("p",{className:"mb-1 fs-5",children:e.label}),(0,b.jsx)("h6",{className:"fw-semibold mb-0 fs-6",children:e.value})]},l)}))})]})})})}),(0,b.jsx)("div",{className:"col-12 justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Repayment schedule"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"col-lg-8",children:(0,b.jsx)("div",{className:"accordion mb-3",id:"accordionFlushExample",children:null===s||void 0===s?void 0:s.map((e,l)=>{var s,i,a,n,d;return(0,b.jsxs)("div",{className:"transaction-card justify-content-between align-items-center flex-wrap p-3 mb-3 rounded-3 shadow-sm",style:{borderLeft:null===e||void 0===e||!e.is_emi_paid||null!==e&&void 0!==e&&e.is_emi_bounce?null!==e&&void 0!==e&&e.is_emi_bounce&&!e.is_emi_paid?"4px solid red":"4px solid #ffa500":"4px solid green"},children:[(0,b.jsx)("h2",{className:"accordion-header",id:"flush-heading".concat(l),children:(0,b.jsx)("button",{className:"accordion-button collapsed bg-white px-3 py-2 fs-6 fw-semibold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse".concat(l),"aria-expanded":"false","aria-controls":"flush-collapse".concat(l),style:{boxShadow:"none"},children:(0,b.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center flex-wrap",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:"fw-semibold text-dark",children:e.month}),(0,b.jsx)("span",{className:"badge rounded-3 fs-3 shadow-sm ".concat(null===(s=m.je[null===e||void 0===e?void 0:e.status])||void 0===s?void 0:s.color," "),children:null===(i=m.je[null===e||void 0===e?void 0:e.status])||void 0===i?void 0:i.label}),(0,b.jsx)("span",{className:"text-muted fs-3 badge rounded-3 ".concat(null===(a=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===a?void 0:a.color),style:{border:"1px solid ".concat(null===(n=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===n?void 0:n.border),backgroundColor:"#fff"},children:null===(d=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===d?void 0:d.label})]}),(0,b.jsx)("span",{className:"fw-semibold me-2",style:{color:"#1F7494",fontSize:"1.3rem"},children:(0,u.uL)(null===e||void 0===e?void 0:e.show_emi)})]})})}),(0,b.jsx)("div",{id:"flush-collapse".concat(l),className:"accordion-collapse collapse","aria-labelledby":"flush-heading".concat(l),"data-bs-parent":"#accordionFlushExample",children:(0,b.jsxs)("div",{className:"accordion-body p-3 ",children:[(0,b.jsxs)("div",{className:"row g-3 text-center mb-4",children:[(0,b.jsx)("div",{className:"col-12 col-md-4",children:(0,b.jsxs)("div",{className:"p-2 border rounded bg-white h-100 shadow-sm",children:[(0,b.jsx)("strong",{className:"d-block text-muted fs-5",children:"Remaining Amount"}),(0,b.jsx)("span",{className:"fw-semibold",style:{color:"#1F7494",fontSize:"1rem"},children:(0,u.uL)(e.show_balance)})]})}),(0,b.jsx)("div",{className:"col-12 col-md-4",children:(0,b.jsxs)("div",{className:"p-2 border rounded bg-white h-100 shadow-sm",children:[(0,b.jsx)("strong",{className:"d-block text-muted fs-5 mb-1",children:"Principal Paid"}),(0,b.jsx)("span",{className:"fw-semibold",style:{color:"#1F7494",fontSize:"1rem"},children:(0,u.uL)(e.show_principal_paid)})]})}),(0,b.jsx)("div",{className:"col-12 col-md-4",children:(0,b.jsxs)("div",{className:"p-2 border rounded bg-white h-100 shadow-sm",children:[(0,b.jsx)("strong",{className:"d-block text-muted fs-5",children:"Interest Paid"}),(0,b.jsx)("span",{className:"fw-semibold",style:{color:"#1F7494",fontSize:"1rem"},children:(0,u.uL)(null===e||void 0===e?void 0:e.show_interest_paid)})]})})]}),e.is_emi_bounce&&(0,b.jsx)("div",{className:"row mt-3",children:(0,b.jsx)("div",{className:"col-12 text-center",children:(0,b.jsx)("button",{className:"btn btn-primary px-4 py-2 fw-semibold",onClick:()=>t(e),children:"Pay EMI"})})})]})})]},e.id)})})})})]})})})})]})};var I=s(42935),P=s(35277);const R=e=>{var l,s,n;let{loanDetailsData:d}=e;const[t,c]=(0,a.useState)([]),r=(null!==d&&void 0!==d&&d.e_mandate_payment_track&&"object"===typeof d.e_mandate_payment_track&&d.e_mandate_payment_track,(null===d||void 0===d||null===(l=d.plan_details)||void 0===l?void 0:l.length)>0&&(null===d||void 0===d||null===(s=d.plan_details[0])||void 0===s||null===(n=s.subscriptions[0])||void 0===n?void 0:n.razorpay_subscription_id));return(0,a.useEffect)(()=>{(0,o.Xt)({subscription_id:r}).then(e=>{if((null===e||void 0===e?void 0:e.status_code)==v.NC.SUCCESS){var l,s,a;console.log("response",null===e||void 0===e?void 0:e.data);const n=(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.transactions)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.transactions)||[],d=(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n?void 0:n.map(e=>(0,i.A)((0,i.A)({},e),{},{is_emi_paid:"paid"===(null===e||void 0===e?void 0:e.status),is_emi_cancelled:"cancelled"===(null===e||void 0===e?void 0:e.status)})));console.log("transectionDatatransectionData",n),c(d)}else console.log("Failed to fetch transaction history")})},[]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"col-12 justify-content-center",children:(0,b.jsx)("div",{className:"row justify-content-center ",children:(0,b.jsx)("div",{className:"card overflow-hidden chat-application ",children:(0,b.jsxs)("div",{className:"p-md-4 p-4 row_2",children:[(0,b.jsxs)("div",{className:"p-9 py-3 border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsx)("h5",{className:"text-secondary mb-0 fw-semibold fs-6",children:"Transaction History"}),(0,b.jsx)("ul",{className:"list-unstyled mb-0 d-flex align-items-center"})]}),(0,b.jsx)("div",{className:"row justify-content-center",children:(null===t||void 0===t?void 0:t.length)>0?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"col-lg-8",children:(0,b.jsx)("div",{className:"",id:"accordionFlushExample",children:null===t||void 0===t?void 0:t.map((e,l)=>{var s,i,a,n,d,t,o;return(0,b.jsxs)("div",{className:"transaction-card d-flex justify-content-between align-items-center flex-wrap p-3 mb-3  rounded-3 shadow-sm",style:{borderLeft:"4px solid ".concat(null===(s=m.je[(0,u.BS)(null===e||void 0===e?void 0:e.status,null===e||void 0===e?void 0:e.paid_at)])||void 0===s?void 0:s.border)},children:[(0,b.jsxs)("div",{className:"d-flex flex-column",children:[(0,b.jsx)("span",{className:"fw-semibold text-muted fs-4 mb-1",children:(0,u.Cq)(null===e||void 0===e||null===(i=e.invoice_data)||void 0===i?void 0:i.created_at,null===m.ow||void 0===m.ow?void 0:m.ow.ABBREVIATED_FULL_DATE_FORMAT)}),(0,b.jsxs)("span",{className:"fw-semibold text-dark fs-4 mb-2",children:["Payment Id: ",(null===e||void 0===e?void 0:e.razorpay_invoice_id)||"-"]})]}),(0,b.jsxs)("div",{className:"d-flex flex-column text-end",children:[(0,b.jsxs)("div",{className:" gap-2 mb-2",children:[(0,b.jsx)("span",{className:"text-muted fs-3 me-2 badge rounded-3  ".concat(null===(a=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===a?void 0:a.color),style:{border:"1px solid ".concat(null===(n=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===n?void 0:n.border),backgroundColor:"#fff"},children:null===(d=m.je[null===e||void 0===e?void 0:e.invoice_type])||void 0===d?void 0:d.label}),(0,b.jsx)("span",{className:"badge rounded-3 shadow-sm fs-3 ".concat(null===(t=m.je[(0,u.BS)(null===e||void 0===e?void 0:e.status,null===e||void 0===e?void 0:e.paid_at)])||void 0===t?void 0:t.color," "),children:null===(o=m.je[(0,u.BS)(null===e||void 0===e?void 0:e.status,null===e||void 0===e?void 0:e.paid_at)])||void 0===o?void 0:o.label})]}),(0,b.jsx)("span",{className:"fw-semibold",style:{color:"#1F7494",fontSize:"1rem"},children:(0,u.uL)(null===e||void 0===e?void 0:e.amount)})]})]},null===e||void 0===e?void 0:e.id)})})})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"col-lg-12 flex items-center justify-center min-h-[300px]",children:(0,b.jsx)("div",{className:"flex flex-col items-center text-center",children:(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"No Transaction History"})})})})})]})})})})})};function w(){var e,l,s,i,t,r,u,m,N,x;(0,n.Zp)(),(0,p.wA)();const w=(0,n.zy)(),[S,C]=(0,a.useState)(null),[T,L]=(0,a.useState)({}),[O,k]=(0,a.useState)(!1);(null===T||void 0===T||null===(e=T.approval_details)||void 0===e?void 0:e.length)>0&&(null===T||void 0===T||T.approval_details[0]),(null===T||void 0===T||null===(l=T.bank_accounts)||void 0===l?void 0:l.length)>0&&(null===T||void 0===T||T.bank_accounts[0]);var M=null===w||void 0===w?void 0:w.state;const{register:U,handleSubmit:F,setValue:V,clearErrors:B,reset:G,watch:z,control:H,formState:{errors:W}}=(0,d.mN)(),[K,q]=(0,a.useState)([{_id:"1",value:"en",name:"English"},{_id:"2",value:"hi",name:"Hindi"},{_id:"3",value:"gu",name:"GUjrati"}]),[J,Y]=(0,a.useState)(!1),[Z,Q]=(0,a.useState)({});(0,a.useEffect)(()=>{M&&(k(!0),(0,o.Jf)({loan_id:null===M||void 0===M?void 0:M.id}).then(e=>{if((null===e||void 0===e?void 0:e.status_code)===v.NC.SUCCESS){var l;let s=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.loan_application;L(s),k(!1)}else k(!1)}))},[M,J]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.default,{isActive:O,message:"Please Wait"}),(0,b.jsxs)("div",{className:"container-fluid mw-100 ",children:[(0,b.jsx)(c.A,{title:M?"Loan Details":"Add Loan",header:null!==w&&void 0!==w&&w.pathname.includes("/loan_disbursement_list")?"Loan Disbursement":"Loan List",subHeaderOnlyView:M?"Loan Details":"Add Loan"})," ",(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("ul",{className:"nav nav-pills user-profile-tab justify-content-end mt-2 border border-2 rounded-2 mb-3 ",id:"pills-tab",role:"tablist",children:[(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link active position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-app-settings-tab","data-bs-toggle":"pill","data-bs-target":"#pills-app-settings",type:"button",role:"tab","aria-controls":"pills-app-settings","aria-selected":"false",children:[(0,b.jsx)(g.nAC,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Loan Details"})]})}),(null===T||void 0===T||null===(s=T.loan_disbursement)||void 0===s?void 0:s.length)>0&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-chat-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-chat-setting",type:"button",role:"tab","aria-controls":"pills-chat-setting","aria-selected":"false",children:[(0,b.jsx)(_.DwJ,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Disbursement Details"})]})}),(null===T||void 0===T||null===(i=T.documents)||void 0===i?void 0:i.length)>0&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-document-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-document-setting",type:"button",role:"tab","aria-controls":"pills-document-setting","aria-selected":"false",children:[(0,b.jsx)(A.Zno,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Documents"})]})}),(null===T||void 0===T||null===(t=T.emi_info)||void 0===t||null===(r=t.schedule)||void 0===r?void 0:r.length)>0&&((null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.DISBURSED)||(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.COMPLETED))&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-Scedule-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-scedule-setting",type:"button",role:"tab","aria-controls":"pills-gallery","aria-selected":"false",children:[(0,b.jsx)(I.zSR,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"EMI Scedule"})]})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.DISBURSED)&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-transection-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-transection-setting",type:"button",role:"tab","aria-controls":"pills-gallery","aria-selected":"false",children:[(0,b.jsx)(P.OPt,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Transaction History"})]})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.COMPLETED)&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-transection-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-transection-setting",type:"button",role:"tab","aria-controls":"pills-gallery","aria-selected":"false",children:[(0,b.jsx)(P.OPt,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Transaction History"})]})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.CLOSED)&&(0,b.jsx)("li",{className:"nav-item",role:"presentation",children:(0,b.jsxs)("button",{className:"nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6",id:"pills-transection-setting-tab","data-bs-toggle":"pill","data-bs-target":"#pills-transection-setting",type:"button",role:"tab","aria-controls":"pills-gallery","aria-selected":"false",children:[(0,b.jsx)(P.OPt,{className:"fs-6 me-2"}),(0,b.jsx)("span",{className:"d-none d-md-block fs-4",children:"Transaction History"})]})})]}),(0,b.jsxs)("div",{className:"tab-content",id:"pills-tabContent",children:[(0,b.jsx)("div",{className:"tab-pane fade show active",id:"pills-app-settings",role:"tabpanel","aria-labelledby":"pills-app-settings-tab",children:(0,b.jsx)(f,{loanDetailsData:T})}),(null===T||void 0===T||null===(u=T.loan_disbursement)||void 0===u?void 0:u.length)>0&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-chat-setting",role:"tabpanel","aria-labelledby":"pills-chat-setting-tab",children:(0,b.jsx)(j,{loanDetailsData:T})}),(null===T||void 0===T||null===(m=T.documents)||void 0===m?void 0:m.length)>0&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-document-setting",role:"tabpanel","aria-labelledby":"pills-document-setting-tab",children:(0,b.jsx)(D,{loanDetailsData:T,setApiReload:Y})}),(null===T||void 0===T||null===(N=T.emi_info)||void 0===N||null===(x=N.schedule)||void 0===x?void 0:x.length)>0&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-scedule-setting",role:"tabpanel","aria-labelledby":"pills-Scedule-setting-tab",children:(0,b.jsx)(y,{loanDetailsData:T})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.DISBURSED)&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-transection-setting",role:"tabpanel","aria-labelledby":"pills-transection-setting-tab",children:(0,b.jsx)(R,{loanDetailsData:T})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.COMPLETED)&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-transection-setting",role:"tabpanel","aria-labelledby":"pills-transection-setting-tab",children:(0,b.jsx)(R,{loanDetailsData:T})}),(null===T||void 0===T?void 0:T.status)===(null===E||void 0===E?void 0:E.CLOSED)&&(0,b.jsx)("div",{className:"tab-pane fade",id:"pills-transection-setting",role:"tabpanel","aria-labelledby":"pills-transection-setting-tab",children:(0,b.jsx)(R,{loanDetailsData:T})})]})]})]})]})}},98631:(e,l,s)=>{s(9950),s(82569),s(82391),s(59091),s(70591),s(82543),s(44414)}}]);