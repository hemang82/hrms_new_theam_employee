(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[3701],{11976:()=>{},12815:(e,l,a)=>{"use strict";a.d(l,{A:()=>T});a(89379);var s=a(9950),i=a(28429),d=a(42074),t=a(70591),n=a(32003),o=(a(52610),a(20404),a(74959),a(82569)),c=a(69591),r=a(8741),m=a(50327),u=a(29949),v=a(82543),h=a(23172),x=a(17066),g=a(25495),b=a(90917),j=a(59091),p=a(90607),N=a(79652),_=a(44414);const T=()=>{var e,l;let a=(0,i.Zp)(),T=(0,o.wA)(),k=(0,i.zy)(),f="/"+(null===k||void 0===k||null===(e=k.pathname)||void 0===e||null===(l=e.split("/"))||void 0===l?void 0:l[1]);const{customModel:H}=(0,o.d4)(e=>e.masterslice),{slidebarToggle:A}=(0,o.d4)(e=>e.masterslice),[O,S]=(0,s.useState)(!0);var I=JSON.parse(localStorage.getItem(n.Ay.AUTH_KEY));console.log("AdminData",null===I||void 0===I?void 0:I.role);const[R,y]=(0,s.useState)(!1),[E,w]=(0,s.useState)(!1),[M,D]=(0,s.useState)("full");return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("aside",{className:"left-sidebar",children:(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"brand-logo d-flex align-items-center justify-content-between mb-2",children:[(0,_.jsx)(d.N_,{to:"/",className:"text-nowrap logo-img text-center d-flex m-2 ms-3",children:(0,_.jsx)("img",{src:null===n.Ay||void 0===n.Ay?void 0:n.Ay.APP_LOGO,className:"dark-logo m-2",width:200,height:60,alt:!0})}),(0,_.jsx)("div",{className:"close-btn d-lg-none d-block sidebartoggler cursor-pointer",id:"sidebarCollapse",onClick:()=>{(0,j.ST)(!A)},children:(0,_.jsx)("i",{className:"ti ti-x fs-8 text-muted me-3"})})]}),(0,_.jsx)("nav",{className:"sidebar-nav scroll-sidebar","data-simplebar":!0,children:(0,_.jsxs)("ul",{id:"sidebarnav",children:[(0,_.jsx)("li",{className:"sidebar-item ".concat("/dashboard"===f||"/"===f?"selected":""),children:(0,_.jsxs)(d.N_,{to:"/dashboard",className:"sidebar-link ".concat("/dashboard"===f||"/"===f?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(r.uRs,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Dashboard"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===p.R.ATTENDANCE_LIST?"selected":""),children:(0,_.jsxs)(d.N_,{to:p.R.ATTENDANCE_LIST,className:"sidebar-link ".concat(f===p.R.ATTENDANCE_LIST?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(b.jUr,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Attendance"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===p.R.LIST_DAILY_WORK_UPDATE?"selected":""),children:(0,_.jsxs)(d.N_,{to:p.R.LIST_DAILY_WORK_UPDATE,className:"sidebar-link ".concat(f===p.R.LIST_DAILY_WORK_UPDATE?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(u.eCE,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Daily Work Update"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===p.R.LEAVE_LIST?"selected":""),children:(0,_.jsxs)(d.N_,{to:p.R.LEAVE_LIST,className:"sidebar-link ".concat(f===p.R.LEAVE_LIST?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(m.$yx,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Leave"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===p.R.SATERDAY_LIST?"selected":""),children:(0,_.jsxs)(d.N_,{to:p.R.SATERDAY_LIST,className:"sidebar-link ".concat(f===p.R.SATERDAY_LIST?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(m.tjE,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Saturday"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===(null===p.R||void 0===p.R?void 0:p.R.HOLIDAYS_LIST)?"selected":""),children:(0,_.jsxs)(d.N_,{to:null===p.R||void 0===p.R?void 0:p.R.HOLIDAYS_LIST,className:"sidebar-link ".concat(f===(null===p.R||void 0===p.R?void 0:p.R.HOLIDAYS_LIST)?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(g.nih,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Holidays"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===(null===p.R||void 0===p.R?void 0:p.R.LIST_BIRTHDAY)?"selected":""),children:(0,_.jsxs)(d.N_,{to:null===p.R||void 0===p.R?void 0:p.R.LIST_BIRTHDAY,className:"sidebar-link ".concat(f===(null===p.R||void 0===p.R?void 0:p.R.LIST_BIRTHDAY)?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(N.BBw,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Birthday"})]})}),(0,_.jsx)("li",{className:"sidebar-item ".concat(f===p.R.SALARY_LIST?"selected":""),children:(0,_.jsxs)(d.N_,{to:p.R.SALARY_LIST,className:"sidebar-link ".concat(f===p.R.SALARY_LIST?"active":""),"aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(c.A1r,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Salary"})]})}),(0,_.jsx)("li",{className:"sidebar-item  ",onClick:()=>{(0,t.GF)(T,v.bt.LOGOUT_MODEL)},style:{cursor:"pointer"},children:(0,_.jsxs)(d.N_,{className:"sidebar-link","aria-expanded":"false",children:[(0,_.jsx)("span",{children:(0,_.jsx)(g.HSs,{style:{fontSize:"1.2rem"}})}),(0,_.jsx)("span",{className:"hide-menu",children:"Logout"})]})})]})}),(0,_.jsx)("div",{className:"fixed-profile p-3 bg-light-secondary rounded sidebar-ad mt-3",children:(0,_.jsxs)("div",{className:"hstack gap-3",children:[(0,_.jsx)("div",{className:"john-img",children:(0,_.jsx)("img",{src:"../../dist/images/profile/user-1.jpg",className:"rounded-circle",width:40,height:40,alt:!0})}),(0,_.jsxs)("div",{className:"john-title",children:[(0,_.jsx)("h6",{className:"mb-0 fs-4 fw-semibold",children:"Mathew"}),(0,_.jsx)("span",{className:"fs-2 text-dark",children:"Designer"})]}),(0,_.jsx)("button",{className:"border-0 bg-transparent text-primary ms-auto",tabIndex:0,type:"button","aria-label":"logout","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"logout",children:(0,_.jsx)("i",{className:"ti ti-power fs-6"})})]})})]})}),H.isOpen&&(null===H||void 0===H?void 0:H.modalType)===v.bt.LOGOUT_MODEL&&(0,_.jsx)(h.A,{children:(0,_.jsx)(x.Cz,{onConfirm:e=>{e&&((0,t.MF)(T),(0,t.V1)(),a("/login"))}})})]})}},15928:(e,l,a)=>{"use strict";e.exports=a.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},34263:(e,l,a)=>{"use strict";a.d(l,{Z:()=>o});var s=a(73349),i=a.n(s),d=a(32003),t=a(52610);a(82391);let n={region:d.E7,accessKeyId:d.Fb,secretAccessKey:d.YE,endpoint:"https://s3.".concat(d.E7,".amazonaws.com/chatmyastrologer")};i().config.update(n),console.log("config",n);const o=async(e,l)=>{try{var a;const s=new FormData;s.append("file_type",l),s.append("files",e);const i=await(0,t.QM)(s);console.log("Upload s3 buckets");return(null===i||void 0===i||null===(a=i.data[0])||void 0===a?void 0:a.s3_object_url)||""}catch(s){throw console.log("uploadImageOnAWS",s),s}}},72263:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>M});var s=a(89379),i=a(9950),d=a(82569),t=a(28429),n=a(42074),o=(a(20404),a(12815),a(3302),a(19594),a(13658),a(79739)),c=a(52610),r=a(82391),m=(a(15928),a(78476),a(72772),a(42380)),u=a(2401),v=(a(73907),a(59091)),h=a(32003),x=a(45397),g=a(70591),b=a(23172),j=a(19030),p=a(75061),N=a(82543),_=a(9449),T=a(45648),k=a(4159),f=a.n(k),H=(a(90923),a(53856),a(25495)),A=(a(34263),a(90607),a(25045),a(61977)),O=a(36220),S=a.n(O),I=a(15007),R=a.n(I),y=a(55117),E=a.n(y),w=a(44414);function M(){var e,l,a,k,O,S;(0,t.Zp)();const I=(0,d.wA)(),[R,y]=(0,i.useState)(0),[M,D]=(0,i.useState)(!1),{attendanceList:{data:C}}=(0,d.d4)(e=>e.masterslice),{dailyTaskList:{data:L}}=(0,d.d4)(e=>e.masterslice),{customModel:F}=(0,d.d4)(e=>e.masterslice),{register:W,handleSubmit:U,setValue:P,clearErrors:Y,reset:B,watch:V,control:z,trigger:q,formState:{errors:K}}=(0,_.mN)({defaultValues:{breaks:[{start:null,end:null}]}}),{fields:G,append:Z,remove:$}=(0,_.jz)({control:z,name:"breaks"}),[J,Q]=(0,i.useState)(null),[X,ee]=(0,i.useState)({}),[le,ae]=(0,i.useState)(!1),[se,ie]=(0,i.useState)(""),[de,te]=((0,x.A)(se,h.dA),(0,i.useState)({global:{value:""}})),[ne,oe]=(0,i.useState)(!1),[ce,re]=(0,i.useState)({}),[me,ue]=(0,i.useState)(null),[ve,he]=(0,i.useState)(-1),[xe,ge]=(0,i.useState)(f()().startOf("month")),[be,je]=(0,i.useState)(f()()),[pe,Ne]=(0,i.useState)(10),[_e,Te]=(0,i.useState)(1),[ke,fe]=(0,i.useState)(null),[He,Ae]=(0,i.useState)(""),[Oe,Se]=(0,i.useState)(!1),[Ie,Re]=(0,i.useState)([]),[ye,Ee]=(0,i.useState)(!1),[we,Me]=(0,i.useState)(N.wz[0]);(0,i.useEffect)(()=>{re({})},[]);(0,i.useEffect)(()=>{C&&(null===C||void 0===C?void 0:C.length)>0&&xe&&be?((e,l,a)=>{const s=new Date(l);s.setHours(0,0,0,0);const i=new Date(a);i.setHours(23,59,59,999);const d=e.flatMap(e=>{var l;return null===e||void 0===e||null===(l=e.dates)||void 0===l?void 0:l.filter(e=>{const l=new Date(null===e||void 0===e?void 0:e.date);return l>=s&&l<=i}).map(l=>({emp_id:null===e||void 0===e?void 0:e.emp_id,name:null===e||void 0===e?void 0:e.name,date:null===l||void 0===l?void 0:l.date,type:null===l||void 0===l?void 0:l.type,status:null===l||void 0===l?void 0:l.status,checkInTimes:null===l||void 0===l?void 0:l.checkInTimes,checkOutTimes:null===l||void 0===l?void 0:l.checkOutTimes,breaks:null===l||void 0===l?void 0:l.breaks}))}).sort((e,l)=>new Date(l.date).getTime()-new Date(e.date).getTime());Re(d)})(C,xe,be):Re([])},[C,we]),(0,i.useEffect)(()=>{let e={fromDate:xe?(0,g.qr)(xe,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,toDate:be?(0,g.qr)(be,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null};I((0,v.oP)(e))},[]);const De=()=>{Ee(!1),ee({}),B()};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A.default,{isActive:Oe,message:"Please Wait"}),(0,w.jsxs)("div",{className:"container-fluid mw-100",children:[(0,w.jsx)(o.A,{title:"Attendance List",header:"Attendance List"}),(0,w.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,w.jsx)("div",{className:"card card-body mb-2 p-3",children:(0,w.jsxs)("div",{className:"row g-2",children:[(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,w.jsxs)("div",{className:"position-relative mt-4 w-100",children:[(0,w.jsx)("input",{type:"text",className:"form-control ps-5 ",id:"input-search",placeholder:"Search Attendance ...",value:se,onChange:e=>{const l=e.target.value;let a=(0,s.A)({},de);a.global&&(a.global.value=l),te(a),Te(1),ie(null===l||void 0===l?void 0:l.trim())}}),(0,w.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-2 mb-2 mb-md-0"}),(0,w.jsx)("div",{className:"col-12 col-md-6 col-lg-3"}),(0,w.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,w.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,w.jsx)(T.A,{className:"custom-datepicker w-100 p-2",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:xe,onChange:e=>{ge(e),je(null)},disabledDate:g.tK})]}),(0,w.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,w.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,w.jsx)(T.A,{className:"custom-datepicker w-100 p-2",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:be,onChange:e=>{je(e),Te(1),(async e=>{try{const l={fromDate:null!==e&&void 0!==e&&e.start_date?(0,g.qr)(e.start_date,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,toDate:null!==e&&void 0!==e&&e.end_date?(0,g.qr)(e.end_date,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null};await I((0,v.oP)(l))}finally{}})({end_date:e,start_date:xe,status:""})},disabled:!xe,disabledDate:e=>!!xe&&e.isBefore(xe,"day")})]})]})}),(0,w.jsx)("div",{className:"card card-body",children:(0,w.jsxs)("div",{className:"table-responsive",children:[(0,w.jsxs)(m.b,{value:(null===Ie||void 0===Ie?void 0:Ie.length)>0?Ie:[],paginator:!0,rows:50,globalFilter:se,sortField:me,sortOrder:ve,onSort:e=>{console.log("Sort event triggered:",e),ue(null===e||void 0===e?void 0:e.sortField),he(null===e||void 0===e?void 0:e.sortOrder)},rowsPerPageOptions:(null===Ie||void 0===Ie?void 0:Ie.length)>50?[20,30,50,null===Ie||void 0===Ie?void 0:Ie.length]:[20,30,40],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:le,emptyMessage:(0,w.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Attendance Not Found."}),children:[(0,w.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,l)=>(null===l||void 0===l?void 0:l.rowIndex)+1,showFilterMenu:!0}),(0,w.jsx)(u.V,{field:"name",header:"Name",style:{minWidth:"12rem",textTransform:"capitalize"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,g.sz)(e.name)||"-"," "]})}),(0,w.jsx)(u.V,{field:"date",header:"Date",sortable:!0,style:{minWidth:"10rem"},body:e=>(0,w.jsxs)("span",{className:"me-2",children:[(0,g.CT)(null===e||void 0===e?void 0:e.date,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_WEEK_MONTH_NAME_FORMAT)||"-"," "]})}),(0,w.jsx)(u.V,{field:"checkInTimes",header:"Check In",style:{minWidth:"10rem"},body:e=>{var l;return(0,w.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e||null===(l=e.checkInTimes[0])||void 0===l?void 0:l.length)>0&&(0,g.gM)(null===e||void 0===e?void 0:e.checkInTimes[0],N.Hg.TIME_12_HOUR_FORMAT)||"-"," "]})}}),(0,w.jsx)(u.V,{field:"checkInTimes",header:"Check Out",style:{minWidth:"10rem"},body:e=>{var l;return(0,w.jsxs)("span",{className:"me-2",children:[(null===e||void 0===e||null===(l=e.checkOutTimes[0])||void 0===l?void 0:l.length)>0&&(0,g.gM)(null===e||void 0===e?void 0:e.checkOutTimes[0],N.Hg.TIME_12_HOUR_FORMAT)||"-"," "]})}}),(0,w.jsx)(u.V,{field:"checkInTimes",header:"Work Hours",style:{minWidth:"10rem"},body:e=>{var l,a;return(0,w.jsxs)("span",{className:"",children:[(null===e||void 0===e||null===(l=e.checkInTimes[0])||void 0===l?void 0:l.length)>0&&(0,g.fR)(null===e||void 0===e?void 0:e.checkInTimes[0],null===e||void 0===e?void 0:e.checkOutTimes[0],(0,g.VP)((null===e||void 0===e||null===(a=e.breaks)||void 0===a?void 0:a.length)>0?null===e||void 0===e?void 0:e.breaks:[]||0))||"-"," "]})}}),(0,w.jsx)(u.V,{field:"type",sortable:!0,"data-pc-section":"root",header:"Day Type",style:{minWidth:"8rem"},body:e=>(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("span",{className:"p-tag p-component badge p-1 text-light fw-semibold px-3 status_font rounded-4 py-2 ".concat((0,N.Ny)(null===e||void 0===e?void 0:e.type)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",children:(0,w.jsx)("span",{className:"p-tag-value fs-2","data-pc-section":"value",children:(0,N.BS)(null===e||void 0===e?void 0:e.type)||"-"})})})}),(0,w.jsx)(u.V,{field:"status",sortable:!0,"data-pc-section":"root",header:"Status",style:{minWidth:"8rem"},body:e=>(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("span",{className:"p-tag p-component badge  text-light fw-semibold px-2 rounded-4 py-1 status_font ".concat((0,N.Ny)(null===e||void 0===e?void 0:e.status)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",children:(0,w.jsx)("span",{className:"p-tag-value fs-2","data-pc-section":"value",children:(0,N.BS)(null===e||void 0===e?void 0:e.status)||"-"})})})}),(0,w.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"6rem"},body:e=>{var l;return(0,w.jsx)("div",{className:"action-btn",children:(0,w.jsx)(n.N_,{onClick:()=>{var l,a;(null===e||void 0===e||null===(l=e.breaks)||void 0===l?void 0:l.length)>0&&(a=e,oe(!0),ee(a))},state:e,className:"text-info edit ".concat((null===e||void 0===e||null===(l=e.breaks)||void 0===l?void 0:l.length)>0?"cursor_pointer text-custom-theam":"disabled-status"),children:(0,w.jsx)("i",{className:"ti ti-eye fs-7"})})})}})]}),(0,w.jsx)("div",{className:"",children:(0,w.jsx)(p.A,{per_page:50,pageCount:null===C||void 0===C?void 0:C.total_count,onPageChange:e=>{Te(e)},page:_e})})]})})]})]}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(ne?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsxs)("h6",{className:"modal-title fs-5",children:["Attendance Details"," "]}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{oe(!1),ee({})}})]}),(0,w.jsx)("div",{className:"modal-body",children:(0,w.jsx)("div",{className:"container py-3",children:(0,w.jsx)("div",{className:"row",children:X&&(0,w.jsx)("div",{className:"col-12 justify-content-center",children:(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)("div",{className:"row",children:[{label:"Date",value:(0,g.CT)(null===X||void 0===X?void 0:X.date,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT)||"-"},{label:"Total Work Hours",value:(0,g.fR)((null===X||void 0===X||null===(e=X.checkInTimes)||void 0===e?void 0:e.length)>0?null===X||void 0===X?void 0:X.checkInTimes[0]:0,(null===X||void 0===X||null===(l=X.checkOutTimes)||void 0===l?void 0:l.length)>0?null===X||void 0===X?void 0:X.checkOutTimes[0]:0,(0,g.VP)((null===X||void 0===X?void 0:X.breaks)||"-"))||"-"},{label:"Check In",value:null!==X&&void 0!==X&&null!==(a=X.checkInTimes)&&void 0!==a&&a[0]?f()("".concat(null===X||void 0===X?void 0:X.date," ").concat((0,g.gM)(null===X||void 0===X?void 0:X.checkInTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss").format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_12_HOUR_FORMAT):"-"},{label:"Check Out",value:null!==X&&void 0!==X&&null!==(k=X.checkOutTimes)&&void 0!==k&&k[0]?f()("".concat(null===X||void 0===X?void 0:X.date," ").concat((0,g.gM)(null===X||void 0===X?void 0:X.checkOutTimes[0],"HH:mm:ss")),"YYYY-MM-DD HH:mm:ss").format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_12_HOUR_FORMAT):"-"},{label:"Break Timeline",value:"-"},{label:"Total Break",value:(null===X||void 0===X||null===(O=X.breaks)||void 0===O?void 0:O.length)>0?(0,g.VP)(null===X||void 0===X?void 0:X.breaks)+"m":"-"}].map((e,l)=>{var a,s;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"col-12 col-sm-6 attendance_card",children:(0,w.jsx)("div",{className:"card border-1 them-light shadow-sm mt-2 ",children:(0,w.jsxs)("div",{className:"card-body text-center m-1 p-1",children:[(0,w.jsx)("p",{className:"fw-semibold fs-4 text-custom-theam ",children:e.label}),"Break Timeline"==e.label?(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"timeline position-relative ms-4",children:[(0,w.jsx)("div",{className:"border-custom-theam border-2 position-absolute top-0 bottom-0 start-0",style:{marginLeft:"7px"}}),(null===X||void 0===X||null===(a=X.breaks)||void 0===a?void 0:a.length)>0&&(null===X||void 0===X||null===(s=X.breaks)||void 0===s?void 0:s.map((e,l)=>(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:"mt-2 d-flex align-items-start",children:[(0,w.jsx)("i",{className:"bi bi-circle-fill text-success fs-5 me-3"}),(0,w.jsx)("div",{children:(0,w.jsxs)("span",{className:"badge bg-light text-dark fs-4 fw-medium",children:[(0,g.gM)(e.start,N.Hg.DATE_TIME_12_HOUR_FORMAT)," - ",(0,g.gM)(e.end,N.Hg.DATE_TIME_12_HOUR_FORMAT)]})})]})},l)))]})}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("h5",{className:"fw-medium text-dark mb-0 fs-5",children:(null===e||void 0===e?void 0:e.value)||"0"})})]})},l)})})})})})})})})})]})})}),ne&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),(0,w.jsx)("div",{className:"modal custom-modal  ".concat(ye?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,w.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,w.jsxs)("div",{className:"modal-content border-0",children:[(0,w.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,w.jsxs)("h3",{className:"modal-title fs-5",children:[ye?"Edit Attendance Details":"Add Attendance Details"," "]}),(0,w.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{De()}})]}),(0,w.jsxs)("div",{className:"modal-body",children:[(0,w.jsx)("div",{className:"row",children:J&&(0,w.jsx)("div",{className:"col-12 justify-content-center",children:(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)("div",{className:"row",children:[{label:"Work Hours",value:(0,g.fR)(V("checkIn")?f()(V("checkIn")).format("HH:mm:ss"):0,f()(V("checkOut")||f()()).format("HH:mm:ss"),(0,g.VP)(V("breaks")||0))||0},{label:"Total Break",value:(0,g.VP)(V("breaks"))+"m"||0}].map((e,l)=>(0,w.jsx)("div",{className:"col-12 col-sm-6",children:(0,w.jsx)("div",{className:"card border-1 zoom-in them-light shadow-sm m-1 ",children:(0,w.jsxs)("div",{className:"card-body text-center m-1 p-1",children:[(0,w.jsx)("p",{className:"fw-semibold fs-6 text-dark ",children:e.label}),(0,w.jsx)("h5",{className:"fw-semibold text-dark mb-0 fs-5",children:e.value||"-"})]})},l)}))})})})}),(0,w.jsxs)("form",{onSubmit:U(async e=>{I((0,v.iC)(!0));let l={employee_id:null===J||void 0===J?void 0:J.id,date:(0,g.qr)(null===e||void 0===e?void 0:e.dob1,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_DASH_TIME_FORMAT),check_in_time:null!==e&&void 0!==e&&e.checkIn?f()(e.checkIn).format("HH:mm"):null,check_out_time:null!==e&&void 0!==e&&e.checkOut?f()(e.checkOut).format("HH:mm"):null,breaks:Array.isArray(null===e||void 0===e?void 0:e.breaks)&&e.breaks.length>0?e.breaks.map(e=>({start:null!==e&&void 0!==e&&e.start?f()(e.start,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null,end:null!==e&&void 0!==e&&e.end?f()(e.end,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT).format("HH:mm"):null})):[],lat:"0.000",log:"0.000",location_id:"TRACEWAVE"};(0,c.KT)(l).then(a=>{if((null===a||void 0===a?void 0:a.code)==h.NC.SUCCESS){I((0,v.iC)(!1)),(0,r.k1)(null===a||void 0===a?void 0:a.message);let d=E()(Ie),t=d.find(e=>e.emp_id==(null===J||void 0===J?void 0:J.id));var s,i;if(t)t.checkInTimes=null!==e&&void 0!==e&&e.checkIn?[(0,g.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_in_time,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],t.checkOutTimes=null!==e&&void 0!==e&&e.checkOut?[(0,g.HB)(null===l||void 0===l?void 0:l.date,null===l||void 0===l?void 0:l.check_out_time,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT)]:[],t.breaks=Array.isArray(null===e||void 0===e?void 0:e.breaks)&&(null===e||void 0===e||null===(s=e.breaks)||void 0===s?void 0:s.length)>0?null===e||void 0===e||null===(i=e.breaks)||void 0===i?void 0:i.map(e=>({start:null!==e&&void 0!==e&&e.start?(0,g.HB)(null===l||void 0===l?void 0:l.date,f()(e.start,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null,end:null!==e&&void 0!==e&&e.end?(0,g.HB)(null===l||void 0===l?void 0:l.date,f()(e.end,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT).format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT),null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_24_HOUR_FORMAT):null})):[];console.log("updatedList",d),Re(d),De()}else(0,r.uU)(null===a||void 0===a?void 0:a.message)})}),children:[(0,w.jsxs)("div",{className:"row col-12 col-md-12 ",children:[(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsxs)("label",{htmlFor:"gender1",className:"form-label fw-semibold",children:["Select Employee",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)("div",{className:"input-group border rounded-1",children:(0,w.jsx)("select",(0,s.A)((0,s.A)({id:"gender1",className:"form-control ps-2 p-2",autoComplete:"nope"},W(N.ic.EMPLOYEE,{required:"Select employee"})),{},{onChange:e=>{e.target.value},children:(0,w.jsx)("option",{value:"",children:"Select employee"})}))}),(0,w.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(S=K[N.ic.EMPLOYEE])||void 0===S?void 0:S.message})]}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsxs)("div",{className:"col-12 ",children:[(0,w.jsxs)("label",{htmlFor:"dob1",className:"form-label fw-semibold",children:["Date ",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)(_.xI,{name:"dob1",control:z,rules:{required:"Date is required"},render:e=>{let{field:l}=e;return(0,w.jsx)(T.A,{id:"dob1",picker:"date",className:"form-control custom-datepicker w-100",format:null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT,value:l.value?f()(l.value,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null,onChange:e=>l.onChange(e?f()(e).format(null===N.ow||void 0===N.ow?void 0:N.ow.DATE_FORMAT):null)})}}),K.dob1&&(0,w.jsx)("small",{className:"text-danger",children:K.dob1.message})]})}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsxs)("div",{className:"col-12 col-md-6",children:[(0,w.jsxs)("label",{htmlFor:"checkIn",className:"form-label fw-semibold",children:["Check In Time ",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)(_.xI,{name:"checkIn",control:z,rules:{required:"Check In time is required"},render:e=>{let{field:l}=e;return(0,w.jsx)(T.A,(0,s.A)((0,s.A)({},l),{},{id:"checkIn",className:"form-control custom-datepicker w-100",picker:"time",format:null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),K.checkIn&&(0,w.jsx)("span",{className:"text-danger small",children:K.checkIn.message})]}),(0,w.jsxs)("div",{className:"col-12 col-md-6",children:[(0,w.jsxs)("label",{htmlFor:"checkOut",className:"form-label fw-semibold",children:["Check Out Time ",(0,w.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,w.jsx)(_.xI,{name:"checkOut",control:z,rules:{required:"Check Out time is required"},render:e=>{let{field:l}=e;return(0,w.jsx)(T.A,(0,s.A)((0,s.A)({},l),{},{id:"checkOut",className:"form-control custom-datepicker w-100",picker:"time",format:null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:l.value,onChange:e=>l.onChange(e),allowClear:!1}))}}),K.checkOut&&(0,w.jsx)("span",{className:"text-danger small",children:K.checkOut.message})]})]})}),(0,w.jsxs)("div",{className:"mb-3",children:[G.map((e,l)=>(0,w.jsxs)("div",{className:"row g-3 mb-3",children:[(0,w.jsxs)("div",{className:"col-12  ".concat(G.length>1?"col-md-5":"col-md-6"),children:[(0,w.jsxs)("label",{htmlFor:"breaks[".concat(l,"].start"),className:"form-label fw-semibold",children:["Break In Time ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(_.xI,{name:"breaks.".concat(l,".start"),control:z,rules:{required:"Break In is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(T.A,{id:"breakIn-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?f()(a.value,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?f()(e).format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,w.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),(0,w.jsxs)("div",{className:"col-12 col-md-6",children:[(0,w.jsxs)("label",{htmlFor:"breaks[".concat(l,"].end"),className:"form-label fw-semibold",children:["Break Out Time ",(0,w.jsx)("span",{className:"text-danger",children:"*"})]}),(0,w.jsx)(_.xI,{name:"breaks.".concat(l,".end"),control:z,rules:{required:"Break Out is required"},render:e=>{let{field:a,fieldState:{error:s}}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(T.A,{id:"breakOut-".concat(l),className:"form-control custom-datepicker w-100",picker:"time",format:null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT,value:a.value?f()(a.value,null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null,onChange:e=>a.onChange(e?f()(e).format(null===N.Hg||void 0===N.Hg?void 0:N.Hg.TIME_WITH_SECONDS_12_HOUR_FORMAT):null),allowClear:!1}),s&&(0,w.jsx)("small",{className:"text-danger",children:s.message})]})}})]}),G.length>1&&(0,w.jsx)("div",{className:"col-12 col-md-1 d-flex align-items-end",children:(0,w.jsx)("button",{type:"button",className:"btn text-white bg-danger btn-sm mb-1",style:{border:"1px solid transparent"},onMouseEnter:e=>e.currentTarget.style.border="1px solid #fa896b",onMouseLeave:e=>e.currentTarget.style.border="1px solid transparent",onClick:()=>$(l),children:(0,w.jsx)(H.$8F,{})})})]},e.id)),(0,w.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>Z({start:null,end:null}),children:"+ Add Break"})]})]}),(0,w.jsxs)("div",{className:"modal-footer justify-content-center mb-3",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-danger m-2",onClick:()=>{De()},children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})]})]})})}),ye&&(0,w.jsx)("div",{className:"modal-backdrop fade show"}),F.isOpen&&(null===F||void 0===F?void 0:F.modalType)===h.bt.DELETE_MODEL&&(0,w.jsx)(b.A,{children:(0,w.jsx)(j.b3,{onConfirm:e=>{}})})]})}f().extend(S()),f().extend(R())},75061:(e,l,a)=>{"use strict";a.d(l,{A:()=>n});var s=a(9950),i=a(82569),d=a(59091),t=a(44414);const n=e=>{let{per_page:l,pageCount:a,onPageChange:n,page:o,lableName:c}=e;const r=(0,i.wA)(),[m,u]=(0,s.useState)(),v=Math.ceil(a/l)||4;(0,s.useEffect)(()=>{u(o),r((0,d.MU)(!0))},[o]);const h=e=>{e>=1&&e<=v&&(u(e),n(e))};return(0,t.jsx)(t.Fragment,{children:l<a?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"showing-results border-top ",children:(0,t.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,t.jsxs)("ul",{className:"pagination ",children:[(0,t.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>h(1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,t.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>h(m-1),disabled:1===m,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let l=m-Math.floor(1.5);l=Math.max(l,1);const s=Math.min(l+3-1,v);s-l<2&&(l=Math.max(s-3+1,1));for(let i=l;i<=s;i++){const l=m===i;if(a>0){const a="page-link font_18 ".concat(l?"text-dark active-link-pagination":"text-muted"),s="page-item ".concat(l?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,t.jsx)("li",{className:s,children:(0,t.jsx)("button",{className:a,onClick:()=>!l&&h(i),disabled:l,style:{color:"black",backgroundColor:"white"},children:i})},i))}}return e})(),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>h(m+1),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,t.jsx)("li",{className:"page-item ".concat(m===v?"disabled":""),children:(0,t.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>h(v),disabled:m===v,children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,t.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*l,a)||0," of ",a," entries"]})]})})}):null})}},78476:(e,l,a)=>{"use strict";a(9950),a(30639),a(86160),a(14064),a(44414)}}]);