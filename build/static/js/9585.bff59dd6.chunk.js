(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[9585],{12815:(e,s,a)=>{"use strict";a.d(s,{A:()=>f});a(89379);var l=a(9950),t=a(28429),i=a(42074),n=a(70591),d=a(32003),o=(a(52610),a(20404),a(74959),a(82569)),r=a(69591),c=a(8741),m=a(50327),u=a(29949),p=a(82543),v=a(23172),x=a(17066),h=a(25495),_=a(90917),b=a(59091),j=a(90607),N=a(79652),g=a(44414);const f=()=>{var e,s;let a=(0,t.Zp)(),f=(0,o.wA)(),y=(0,t.zy)(),E="/"+(null===y||void 0===y||null===(e=y.pathname)||void 0===e||null===(s=e.split("/"))||void 0===s?void 0:s[1]);const{customModel:A}=(0,o.d4)(e=>e.masterslice),{slidebarToggle:S}=(0,o.d4)(e=>e.masterslice),[k,C]=(0,l.useState)(!0);var D=JSON.parse(localStorage.getItem(d.Ay.AUTH_KEY));console.log("AdminData",null===D||void 0===D?void 0:D.role);const[L,T]=(0,l.useState)(!1),[R,w]=(0,l.useState)(!1),[I,M]=(0,l.useState)("full");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("aside",{className:"left-sidebar",children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"brand-logo d-flex align-items-center justify-content-between mb-2",children:[(0,g.jsx)(i.N_,{to:"/",className:"text-nowrap logo-img text-center d-flex m-2 ms-3",children:(0,g.jsx)("img",{src:null===d.Ay||void 0===d.Ay?void 0:d.Ay.APP_LOGO,className:"dark-logo m-2",width:200,height:60,alt:!0})}),(0,g.jsx)("div",{className:"close-btn d-lg-none d-block sidebartoggler cursor-pointer",id:"sidebarCollapse",onClick:()=>{(0,b.ST)(!S)},children:(0,g.jsx)("i",{className:"ti ti-x fs-8 text-muted me-3"})})]}),(0,g.jsx)("nav",{className:"sidebar-nav scroll-sidebar","data-simplebar":!0,children:(0,g.jsxs)("ul",{id:"sidebarnav",children:[(0,g.jsx)("li",{className:"sidebar-item ".concat("/dashboard"===E||"/"===E?"selected":""),children:(0,g.jsxs)(i.N_,{to:"/dashboard",className:"sidebar-link ".concat("/dashboard"===E||"/"===E?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(c.uRs,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Dashboard"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===j.R.ATTENDANCE_LIST?"selected":""),children:(0,g.jsxs)(i.N_,{to:j.R.ATTENDANCE_LIST,className:"sidebar-link ".concat(E===j.R.ATTENDANCE_LIST?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(_.jUr,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Attendance"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===j.R.LIST_DAILY_WORK_UPDATE?"selected":""),children:(0,g.jsxs)(i.N_,{to:j.R.LIST_DAILY_WORK_UPDATE,className:"sidebar-link ".concat(E===j.R.LIST_DAILY_WORK_UPDATE?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(u.eCE,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Daily Work Update"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===j.R.LEAVE_LIST?"selected":""),children:(0,g.jsxs)(i.N_,{to:j.R.LEAVE_LIST,className:"sidebar-link ".concat(E===j.R.LEAVE_LIST?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(m.$yx,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Leave"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===j.R.SATERDAY_LIST?"selected":""),children:(0,g.jsxs)(i.N_,{to:j.R.SATERDAY_LIST,className:"sidebar-link ".concat(E===j.R.SATERDAY_LIST?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(m.tjE,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Saturday"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===(null===j.R||void 0===j.R?void 0:j.R.HOLIDAYS_LIST)?"selected":""),children:(0,g.jsxs)(i.N_,{to:null===j.R||void 0===j.R?void 0:j.R.HOLIDAYS_LIST,className:"sidebar-link ".concat(E===(null===j.R||void 0===j.R?void 0:j.R.HOLIDAYS_LIST)?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(h.nih,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Holidays"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===(null===j.R||void 0===j.R?void 0:j.R.LIST_BIRTHDAY)?"selected":""),children:(0,g.jsxs)(i.N_,{to:null===j.R||void 0===j.R?void 0:j.R.LIST_BIRTHDAY,className:"sidebar-link ".concat(E===(null===j.R||void 0===j.R?void 0:j.R.LIST_BIRTHDAY)?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(N.BBw,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Birthday"})]})}),(0,g.jsx)("li",{className:"sidebar-item ".concat(E===j.R.SALARY_LIST?"selected":""),children:(0,g.jsxs)(i.N_,{to:j.R.SALARY_LIST,className:"sidebar-link ".concat(E===j.R.SALARY_LIST?"active":""),"aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(r.A1r,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Salary"})]})}),(0,g.jsx)("li",{className:"sidebar-item  ",onClick:()=>{(0,n.GF)(f,p.bt.LOGOUT_MODEL)},style:{cursor:"pointer"},children:(0,g.jsxs)(i.N_,{className:"sidebar-link","aria-expanded":"false",children:[(0,g.jsx)("span",{children:(0,g.jsx)(h.HSs,{style:{fontSize:"1.2rem"}})}),(0,g.jsx)("span",{className:"hide-menu",children:"Logout"})]})})]})}),(0,g.jsx)("div",{className:"fixed-profile p-3 bg-light-secondary rounded sidebar-ad mt-3",children:(0,g.jsxs)("div",{className:"hstack gap-3",children:[(0,g.jsx)("div",{className:"john-img",children:(0,g.jsx)("img",{src:"../../dist/images/profile/user-1.jpg",className:"rounded-circle",width:40,height:40,alt:!0})}),(0,g.jsxs)("div",{className:"john-title",children:[(0,g.jsx)("h6",{className:"mb-0 fs-4 fw-semibold",children:"Mathew"}),(0,g.jsx)("span",{className:"fs-2 text-dark",children:"Designer"})]}),(0,g.jsx)("button",{className:"border-0 bg-transparent text-primary ms-auto",tabIndex:0,type:"button","aria-label":"logout","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"logout",children:(0,g.jsx)("i",{className:"ti ti-power fs-6"})})]})})]})}),A.isOpen&&(null===A||void 0===A?void 0:A.modalType)===p.bt.LOGOUT_MODEL&&(0,g.jsx)(v.A,{children:(0,g.jsx)(x.Cz,{onConfirm:e=>{e&&((0,n.MF)(f),(0,n.V1)(),a("/login"))}})})]})}},15928:(e,s,a)=>{"use strict";e.exports=a.p+"static/media/default.9adb3c389e7b62ad4015.jpg"},53856:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var s=["th","st","nd","rd"],a=e%100;return"["+e+(s[(a-20)%10]||s[a]||s[0])+"]"}}}()},75061:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var l=a(9950),t=a(82569),i=a(59091),n=a(44414);const d=e=>{let{per_page:s,pageCount:a,onPageChange:d,page:o,lableName:r}=e;const c=(0,t.wA)(),[m,u]=(0,l.useState)(),p=Math.ceil(a/s)||4;(0,l.useEffect)(()=>{u(o),c((0,i.MU)(!0))},[o]);const v=e=>{e>=1&&e<=p&&(u(e),d(e))};return(0,n.jsx)(n.Fragment,{children:s<a?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"showing-results border-top ",children:(0,n.jsxs)("nav",{"aria-label":"Page navigation example",className:"pagination-container border-bottom mt-4 mb-0",children:[(0,n.jsxs)("ul",{className:"pagination ",children:[(0,n.jsx)("li",{className:"page-item  ".concat(1===m?"disabled":""),children:(0,n.jsx)("button",{className:"page-link text-dark","aria-label":"First",onClick:()=>v(1),disabled:1===m,children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),(0,n.jsx)("li",{className:"page-item ".concat(1===m?"disabled":""),children:(0,n.jsx)("button",{className:"page-link text-dark","aria-label":"Previous",onClick:()=>v(m-1),disabled:1===m,children:(0,n.jsx)("span",{"aria-hidden":"true",children:"<"})})}),(()=>{const e=[];let s=m-Math.floor(1.5);s=Math.max(s,1);const l=Math.min(s+3-1,p);l-s<2&&(s=Math.max(l-3+1,1));for(let t=s;t<=l;t++){const s=m===t;if(a>0){const a="page-link font_18 ".concat(s?"text-dark active-link-pagination":"text-muted"),l="page-item ".concat(s?"text-dark ":"text-muted");null===e||void 0===e||e.push((0,n.jsx)("li",{className:l,children:(0,n.jsx)("button",{className:a,onClick:()=>!s&&v(t),disabled:s,style:{color:"black",backgroundColor:"white"},children:t})},t))}}return e})(),(0,n.jsx)("li",{className:"page-item ".concat(m===p?"disabled":""),children:(0,n.jsx)("button",{className:"page-link text-dark","aria-label":"Next",onClick:()=>v(m+1),disabled:m===p,children:(0,n.jsx)("span",{"aria-hidden":"true",children:">"})})}),(0,n.jsx)("li",{className:"page-item ".concat(m===p?"disabled":""),children:(0,n.jsx)("button",{className:"page-link text-dark","aria-label":"Last",onClick:()=>v(p),disabled:m===p,children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}),(0,n.jsxs)("p",{className:"text-capitalize showing-text ms-1 ",children:["Showing ",m," to ",Math.min(m*s,a)||0," of ",a," entries"]})]})})}):null})}},78476:(e,s,a)=>{"use strict";a(9950),a(30639),a(86160),a(14064),a(44414)},86120:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var l=a(89379),t=a(9950),i=a(82569),n=a(28429),d=a(42074),o=(a(20404),a(12815),a(3302),a(19594),a(13658),a(79739)),r=a(52610),c=a(82391),m=(a(15928),a(78476),a(72772),a(42380)),u=a(2401),p=(a(73907),a(59091)),v=a(32003),x=a(45397),h=a(70591),_=a(23172),b=a(19030),j=a(75061),N=a(82543),g=a(9449),f=a(45648),y=(a(4159),a(90923),a(53856),a(25495)),E=a(44414);function A(){var e,s,a,A,S,k,C,D,L;let T=(0,n.Zp)();const R=(0,i.wA)(),w="YYYY-MM-DD",[I,M]=(0,t.useState)(0),[P,O]=(0,t.useState)(""),[F,U]=(0,t.useState)(!1),{listAllLoan:{data:V}}=(0,i.d4)(e=>e.masterslice),{listProcessFee:{data:Y}}=(0,i.d4)(e=>e.masterslice),{listInterest:{data:B}}=(0,i.d4)(e=>e.masterslice),{customModel:W}=(0,i.d4)(e=>e.masterslice),{register:H,handleSubmit:z,setValue:G,clearErrors:q,reset:J,watch:K,trigger:Z,control:Q,formState:{errors:X}}=(0,g.mN)(),$=[{key:"",value:"ALL STATUS"},{key:"PENDING",value:"PENDING"},{key:"APPROVED",value:"APPROVED"},{key:"DISBURSEMENT_APPROVAL_PENDING",value:"DISBURSEMENT PENDING"},{key:"DISBURSED",value:"DISBURSED"},{key:"COMPLETED",value:"COMPLETED"},{key:"APPLICATION_SUBMITTED",value:"APPLICATION SUBMITTED"},{key:"UNDER_REVIEW",value:"UNDER REVIEW"},{key:"ON_HOLD",value:"ON HOLD"},{key:"REJECTED",value:"REJECTED"},{key:"AADHAR_VERIFIED",value:"AADHAR VERIFIED"},{key:"BANK_VERIFIED",value:"BANK VERIFIED"},{key:"USER_ACCEPTED",value:"USER ACCEPTED"},{key:"E_MANDATE_GENERATED",value:"E-MANDATE GENERATED"},{key:"CLOSED",value:"CLOSED"},{key:"CANCELLED",value:"CANCELED"}],ee=[{key:"",value:"ALL STATUS"},{key:"PENDING",value:"PENDING"},{key:"UNDER_REVIEW",value:"UNDER REVIEW"},{key:"ON_HOLD",value:"ON HOLD"},{key:"APPROVED",value:"APPROVED"},{key:"REJECTED",value:"REJECTED"},{key:"CANCELLED",value:"CANCELED"}],se=["USER_ACCEPTED","DISBURSED","COMPLETED","DISBURSEMENT_APPROVAL_PENDING"],[ae,le]=(0,t.useState)({}),[te,ie]=(0,t.useState)(!1),[ne,de]=(0,t.useState)(""),oe=(0,x.A)(ne,v.dA),[re,ce]=(0,t.useState)({global:{value:""}}),[me,ue]=(0,t.useState)(!1),[pe,ve]=(0,t.useState)($[0]),[xe,he]=(0,t.useState)(null),[_e,be]=(0,t.useState)(-1),[je,Ne]=(0,t.useState)(null),[ge,fe]=(0,t.useState)(null),[ye,Ee]=(0,t.useState)(10),[Ae,Se]=(0,t.useState)(1),[ke,Ce]=(0,t.useState)([]),[De,Le]=(0,t.useState)(!1),[Te,Re]=(0,t.useState)(!1),[we,Ie]=(0,t.useState)(!1);(0,t.useEffect)(()=>{R((0,p.iC)(!0));let e={search:ne,status_filter:null===pe||void 0===pe?void 0:pe.key,order_by:xe,order_direction:1===_e?"asc":"desc",start_date:je?(0,h.qr)(je,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,end_date:ge?(0,h.qr)(ge,N.ow.DATE_LOCAL_DASH_TIME_FORMAT):null,limit:ye,offset:Ae};R((0,p.CM)(e)),R((0,p.iC)(!1))},[Ae,oe,pe,xe,_e,ge,ye,Ae]),(0,t.useEffect)(()=>{R((0,p.W0)()),R((0,p.hV)())},[]);const Me=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=null!=e&&""!==e&&e>0?e:300;if(!Array.isArray(s)||0===s.length)return"";const l=s.find(e=>a>=e.min_score&&a<=e.max_score);return l?l.rate_percentage:""},Pe=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=null!=e&&""!==e&&e>0?e:0;if(!Array.isArray(s)||0===s.length)return"";const l=s.find(e=>a>=e.min_score&&a<=e.max_score);return l?l.min_fee_percent:""},[Oe,Fe]=(0,t.useState)(!1);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"container-fluid mw-100",children:[(0,E.jsx)(o.A,{title:"Loan List",header:"Loan List"}),(0,E.jsxs)("div",{className:"widget-content searchable-container list",children:[(0,E.jsx)("div",{className:"card card-body mb-3",children:(0,E.jsxs)("div",{className:"row g-3",children:[(0,E.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,E.jsxs)("div",{className:"position-relative mt-4 w-75",children:[(0,E.jsx)("input",{type:"text",className:"form-control ps-5 ",id:"input-search",placeholder:"Search loan...",value:ne,onChange:e=>{const s=e.target.value;let a=(0,l.A)({},re);a.global&&(a.global.value=s),ce(a),Se(1),de(null===s||void 0===s?void 0:s.trim())}}),(0,E.jsx)("i",{className:"ti ti-search position-absolute top-50 start-0 translate-middle-y fs-6 text-dark ms-3"})]})}),(0,E.jsxs)("div",{className:"col-12 col-md-6 col-lg-2 ",children:[(0,E.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Start Date"}),(0,E.jsx)(f.A,{className:"custom-datepicker w-100",format:w,value:je,onChange:e=>{Ne(e),fe(null)}})]}),(0,E.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,E.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"End Date"}),(0,E.jsx)(f.A,{className:"custom-datepicker w-100",format:w,value:ge,onChange:e=>{fe(e),Se(1)},disabled:!je,disabledDate:e=>!!je&&e.isBefore(je,"day")})]}),(0,E.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,E.jsx)("label",{className:"d-block mb-1 fw-semibold",children:"Status"}),(0,E.jsxs)("div",{className:"btn-group w-100",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-info dropdown-toggle w-100","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{height:"40px"},children:(null===pe||void 0===pe?void 0:pe.value)||"Select Status"}),(0,E.jsx)("ul",{className:"dropdown-menu w-100 shadow-sm border border-2",style:{maxHeight:"400px",overflowY:"auto"},children:null===$||void 0===$?void 0:$.map(e=>(0,E.jsx)("li",{children:(0,E.jsx)("a",{className:"dropdown-item cursor_pointer text-secondary",onClick:()=>(e=>{ve(e),Se(1)})(e),children:null===e||void 0===e?void 0:e.value})},e.value))})]})]}),(0,E.jsxs)("div",{className:"col-12 col-md-6 col-lg-2",children:[(0,E.jsx)("label",{className:"d-block mb-1 fw-semibold mt-2 mt-md-4 "}),(0,E.jsxs)(d.N_,{to:"/loan_list/add_loan",id:"btn-add-contact",className:"btn btn-info d-flex align-items-center justify-content-center",style:{height:"40px"},children:[(0,E.jsx)("span",{className:"me-1",children:(0,E.jsx)(y.QwN,{style:{fontSize:"1.2rem"}})}),(0,E.jsx)("span",{className:"fw-semibold ",children:"Add Loan"})]})]})]})}),(0,E.jsx)("div",{className:"modal fade",id:"addContactModal",tabIndex:-1,role:"dialog","aria-labelledby":"addContactModalTitle","aria-hidden":"true",children:(0,E.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,E.jsxs)("div",{className:"modal-content",children:[(0,E.jsxs)("div",{className:"modal-header d-flex align-items-center",children:[(0,E.jsx)("h5",{className:"modal-title",children:"Contact"}),(0,E.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,E.jsx)("div",{className:"modal-body",children:(0,E.jsx)("div",{className:"add-contact-box",children:(0,E.jsx)("div",{className:"add-contact-content",children:(0,E.jsxs)("form",{id:"addContactModalTitle",children:[(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"mb-3 contact-name",children:[(0,E.jsx)("input",{type:"text",id:"c-name",className:"form-control",placeholder:"Name"}),(0,E.jsx)("span",{className:"validation-text text-danger"})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"mb-3 contact-email",children:[(0,E.jsx)("input",{type:"text",id:"c-email",className:"form-control",placeholder:"Email"}),(0,E.jsx)("span",{className:"validation-text text-danger"})]})})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsx)("div",{className:"mb-3 contact-occupation",children:(0,E.jsx)("input",{type:"text",id:"c-occupation",className:"form-control",placeholder:"Occupation"})})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"mb-3 contact-phone",children:[(0,E.jsx)("input",{type:"text",id:"c-phone",className:"form-control",placeholder:"Phone"}),(0,E.jsx)("span",{className:"validation-text text-danger"})]})})]}),(0,E.jsx)("div",{className:"row",children:(0,E.jsx)("div",{className:"col-md-12",children:(0,E.jsx)("div",{className:"mb-3 contact-location",children:(0,E.jsx)("input",{type:"text",id:"c-location",className:"form-control",placeholder:"Location"})})})})]})})})}),(0,E.jsxs)("div",{className:"modal-footer",children:[(0,E.jsx)("button",{id:"btn-add",className:"btn btn-success rounded-pill px-4",children:"Add"}),(0,E.jsx)("button",{id:"btn-edit",className:"btn btn-success rounded-pill px-4",children:"Save"}),(0,E.jsx)("button",{className:"btn btn-danger rounded-pill px-4","data-bs-dismiss":"modal",children:" Discard "})]})]})})}),(0,E.jsx)("div",{className:"card card-body",children:(0,E.jsxs)("div",{className:"table-responsive",children:[(0,E.jsxs)(m.b,{value:null===V||void 0===V?void 0:V.loan_applications,rows:15,sortField:xe,sortOrder:_e,onSort:e=>{console.log("Sort event triggered:",e),he(e.sortField),be(e.sortOrder)},currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",loading:te,emptyMessage:(0,E.jsx)("span",{style:{textAlign:"center",display:"block"},children:"Loan Not Found."}),children:[(0,E.jsx)(u.V,{field:"id",header:"Id",style:{minWidth:"4rem"},body:(e,s)=>s.rowIndex+1,showFilterMenu:!0,sortable:!0}),(0,E.jsx)(u.V,{field:"status",header:"Action",style:{minWidth:"8rem"},body:e=>(0,E.jsxs)("div",{className:"action-btn",children:[(0,E.jsx)("a",{className:"text-custom-theam edit cursor_pointer me-1 ".concat(se.includes(null===e||void 0===e?void 0:e.status)?"disabled-btn":""),onClick:()=>{se.includes(null===e||void 0===e?void 0:e.status)||T("/loan_list/edit_loan",{state:e})},children:(0,E.jsx)("i",{className:"ti ti-edit fs-7"})}),(0,E.jsx)(d.N_,{to:"/loan_list/loan_details",state:e,className:"text-custom-theam edit cursor_pointer",children:(0,E.jsx)("i",{className:"ti ti-eye fs-7"})}),(0,E.jsx)("a",{className:"text-dark delete ms-2 cursor_pointer ".concat(se.includes(null===e||void 0===e?void 0:e.status)?"disabled-btn":""),onClick:()=>{se.includes(null===e||void 0===e?void 0:e.status)||((0,h.GF)(R,v.bt.DELETE_MODEL),le(e))},children:(0,E.jsx)("i",{className:"ti ti-trash fs-7 text-danger"})})]})}),(0,E.jsx)(u.V,{field:"status",sortable:!0,"data-pc-section":"root",header:"Status",style:{minWidth:"10rem"},body:e=>(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("span",{className:"p-tag p-component cursor_pointer badge p-1 text-light fw-semibold px-3 rounded-4 py-2 ".concat((0,N.Ny)(null===e||void 0===e?void 0:e.status)||"bg-secondary"),"data-pc-name":"tag","data-pc-section":"root",onClick:()=>{return!se.includes(null===e||void 0===e?void 0:e.status)&&(s=e,void(0,r.Jf)({loan_id:null===s||void 0===s?void 0:s.id}).then(e=>{if((null===e||void 0===e?void 0:e.status_code)===v.NC.SUCCESS){var s;let t=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.loan_application;if(console.log("funcStatusChange",t),null!==t&&void 0!==t&&t.aadhaar_verified){if(se.includes(null===t||void 0===t?void 0:t.status))return;{var a,l;le(t),G("loan_status",null===(a=ee.find(e=>e.key===(null===t||void 0===t?void 0:t.status)))||void 0===a?void 0:a.key),G("remarks",null===t||void 0===t?void 0:t.remarks),G("id",null===t||void 0===t?void 0:t.id),G("approved_amount",null===t||void 0===t?void 0:t.approved_loan),G("applied_amount",null===t||void 0===t?void 0:t.desired_loan);const e=null===B||void 0===B||null===(l=B.credit_range_rates)||void 0===l?void 0:l.filter(e=>{var s,a;return(null===e||void 0===e||null===(s=e.loan_type)||void 0===s?void 0:s.toUpperCase())==(null===t||void 0===t||null===(a=t.loan_type)||void 0===a?void 0:a.toUpperCase())}),s=Me(null===t||void 0===t?void 0:t.credit_score,e);null!==(null===t||void 0===t?void 0:t.credit_score_range_rate_percentage)&&null!==(null===t||void 0===t?void 0:t.custom_rate_percentage)?(Le(!0),G("interest_rate",null===t||void 0===t?void 0:t.credit_score_range_rate_percentage),G("custom_rate_percentage",null===t||void 0===t?void 0:t.custom_rate_percentage)):(G("interest_rate",s),G("custom_rate_percentage",null));const i=Pe(null===t||void 0===t?void 0:t.credit_score,Y);null!==(null===t||void 0===t?void 0:t.processing_fee)&&null!==(null===t||void 0===t?void 0:t.custom_processing_fee)?(Re(!0),G("processing_fee",null===t||void 0===t?void 0:t.processing_fee),G("custom_processing_fee",null===t||void 0===t?void 0:t.custom_processing_fee)):(G("processing_fee",i),G("custom_processing_fee",null)),G("loan_tenure",null===t||void 0===t?void 0:t.tenure_months),ue(!0)}}else(0,c.UC)("Aadhaar card verification is pending.")}}));var s},children:(0,E.jsx)("span",{className:"p-tag-value","data-pc-section":"value",children:(0,N.BS)(null===e||void 0===e?void 0:e.status)||"-"})})})}),(0,E.jsx)(u.V,{field:"name",header:"Name",sortable:!0,style:{minWidth:"8rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,E.jsxs)("span",{children:[e.name||"-"," "]})}),(0,E.jsx)(u.V,{field:"loan_type",sortable:!0,header:"Loan Type",style:{minWidth:"8rem"},body:e=>(0,E.jsx)("span",{children:(null===e||void 0===e?void 0:e.loan_type)||"-"})}),(0,E.jsx)(u.V,{field:"created_at",header:"Apply Date",sortable:!0,style:{minWidth:"8rem"},body:e=>(0,E.jsxs)("span",{children:[(0,h.Yq)(e.created_at,null===N.ow||void 0===N.ow?void 0:N.ow.DATE_DOT_TIME_FORMAT)||"-"," "]})}),(0,E.jsx)(u.V,{field:"annual_income",sortable:!0,header:"Annual Income",style:{minWidth:"10rem"},body:e=>(0,E.jsx)("span",{children:(0,h.sz)((0,h.uL)(null===e||void 0===e?void 0:e.annual_income))||"-"})}),(0,E.jsx)(u.V,{field:"desired_loan",sortable:!0,header:"Desired Loan",style:{minWidth:"10rem"},body:e=>(0,E.jsx)("span",{children:(0,h.sz)((0,h.uL)(null===e||void 0===e?void 0:e.desired_loan))||"-"})}),(0,E.jsx)(u.V,{field:"loan_uid",header:"Loan ID",style:{minWidth:"8rem",whiteSpace:"nowrap",textTransform:"capitalize"},body:e=>(0,E.jsxs)("span",{children:[e.loan_uid||"-"," "]})})]}),(0,E.jsx)("div",{className:"",children:(0,E.jsx)(j.A,{per_page:ye,pageCount:null===V||void 0===V?void 0:V.total_count,onPageChange:e=>{Se(e)},page:Ae})})]})})]})]}),(0,E.jsx)("div",{className:"modal custom-modal  ".concat(me?"fade show d-block ":"d-none"),id:"addnotesmodal",tabIndex:-1,role:"dialog","aria-labelledby":"addnotesmodalTitle","aria-hidden":"true",children:(0,E.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document",children:(0,E.jsxs)("div",{className:"modal-content border-0",children:[(0,E.jsxs)("div",{className:"modal-header bg-primary",style:{borderRadius:"10px 10px 0px 0px"},children:[(0,E.jsx)("h6",{className:"modal-title fs-5",children:"Manage Loan Status"}),(0,E.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{ue(!1),Le(!1),Re(!1),le(null),J()}})]}),(0,E.jsx)("div",{className:"modal-body",children:(0,E.jsx)("form",{onSubmit:z(e=>{var s,a;const t={loan_id:e.id,status:e.loan_status,remarks:e.remarks,approved_loan:null===e||void 0===e?void 0:e.approved_amount,desired_loan:null===e||void 0===e?void 0:e.applied_amount,credit_score_range_rate_id:null!==e&&void 0!==e&&e.interest_rate?parseInt((null===B||void 0===B||null===(s=B.credit_range_rates.find(s=>s.rate_percentage==(null===e||void 0===e?void 0:e.interest_rate)))||void 0===s?void 0:s.id)||0,10):"",credit_score_range_rate_percentage:null!==e&&void 0!==e&&e.interest_rate?null===e||void 0===e?void 0:e.interest_rate:"",custom_rate_percentage:De?parseFloat((null===e||void 0===e?void 0:e.custom_rate_percentage)||0):null,processing_fee_id:null!==e&&void 0!==e&&e.interest_rate?parseInt((null===(a=Y.find(s=>s.min_fee_percent==(null===e||void 0===e?void 0:e.processing_fee)))||void 0===a?void 0:a.id)||0,10):"",processing_fee:null===e||void 0===e?void 0:e.processing_fee,custom_processing_fee:Te?parseFloat(null===e||void 0===e?void 0:e.custom_processing_fee):null,tenure_months:parseFloat(null===e||void 0===e?void 0:e.loan_tenure)};(0,r._i)(t).then(s=>{if((null===s||void 0===s?void 0:s.status_code)===v.NC.SUCCESS){var a;J();let t=null===V||void 0===V||null===(a=V.loan_applications)||void 0===a?void 0:a.map(s=>e.id===s.id?(0,l.A)((0,l.A)({},s),{},{status:e.loan_status,remarks:null===e||void 0===e?void 0:e.remarks,approved_loan:null===e||void 0===e?void 0:e.approved_amount,credit_score_range_rate_percentage:null!==e&&void 0!==e&&e.interest_rate?null===e||void 0===e?void 0:e.interest_rate:"",custom_rate_percentage:De?parseFloat((null===e||void 0===e?void 0:e.custom_rate_percentage)||0):null,processing_fee:null===e||void 0===e?void 0:e.processing_fee,custom_processing_fee:Te?parseFloat((null===e||void 0===e?void 0:e.custom_processing_fee)||0):null,tenure_months:null===e||void 0===e?void 0:e.loan_tenure}):s);R((0,p.Kd)((0,l.A)((0,l.A)({},V),{},{loan_applications:t}))),(0,c.k1)(null===s||void 0===s?void 0:s.message),ue(!1),le(null),Le(!1),Re(!1)}else(0,c.uU)(null===s||void 0===s?void 0:s.message)})}),children:(0,E.jsx)("div",{className:"col-lg-12",children:(0,E.jsxs)("div",{className:"card-body p-4",children:[(0,E.jsx)("div",{className:"row d-flex gap-3",children:(0,E.jsxs)("div",{className:"col",children:[(0,E.jsx)("div",{className:"border-bottom chat-meta-user d-flex align-items-center justify-content-between mb-3",children:(0,E.jsxs)("h5",{className:"text-dark mb-0 fw-semibold pb-3",children:["CIBIL Score : ",(null===ae||void 0===ae?void 0:ae.credit_score)||0]})}),(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Loan Status",(0,E.jsx)("span",{className:"text-danger ms-1"})]}),(0,E.jsx)("div",{className:"input-group border rounded-1",children:(0,E.jsx)("select",(0,l.A)((0,l.A)({className:"form-control ps-2",autoComplete:"nope",style:{fontWeight:"600"}},H("loan_status",{required:"Enter status",onChange:e=>(e=>{var s;G("loan_status",null===(s=$.find(s=>s.key===e))||void 0===s?void 0:s.key);const a=(null===ae||void 0===ae?void 0:ae.status)===e;G("remarks",a?null===ae||void 0===ae?void 0:ae.remarks:""),G("id",null===ae||void 0===ae?void 0:ae.id),G("approved_amount",null===ae||void 0===ae?void 0:ae.approved_loan),G("applied_amount",null===ae||void 0===ae?void 0:ae.desired_loan);const l=Me(ae.credit_score,null===B||void 0===B?void 0:B.credit_range_rates);null!==(null===ae||void 0===ae?void 0:ae.credit_score_range_rate_percentage)&&null!==(null===ae||void 0===ae?void 0:ae.custom_rate_percentage)?(Le(!0),G("interest_rate",null===ae||void 0===ae?void 0:ae.credit_score_range_rate_percentage),G("custom_rate_percentage",null===ae||void 0===ae?void 0:ae.custom_rate_percentage)):(G("interest_rate",l),G("custom_rate_percentage",null));const t=Pe(ae.credit_score,Y);null!==(null===ae||void 0===ae?void 0:ae.processing_fee)&&null!==(null===ae||void 0===ae?void 0:ae.custom_processing_fee)?(Le(!0),G("processing_fee",null===ae||void 0===ae?void 0:ae.processing_fee),G("custom_processing_fee",null===ae||void 0===ae?void 0:ae.custom_processing_fee)):(G("processing_fee",t),G("custom_processing_fee",null)),G("loan_tenure",null===ae||void 0===ae?void 0:ae.tenure_months)})(e.target.value)})),{},{children:(0,h.MT)(ee)}))}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(e=X.loan_status)||void 0===e?void 0:e.message})]})]})}),"APPROVED"===K("loan_status")&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold mb-0",children:["Applied Amount ",(0,E.jsx)("span",{className:"text-danger ms-1"})]}),(0,E.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary py-0 px-2",onClick:()=>Fe(!Oe),children:Oe?"Cancel":"Edit"})]}),(0,E.jsx)("div",{className:"input-group border rounded-1 mt-1",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Applied Amount",autoComplete:"off",disabled:!Oe},H("applied_amount",{required:"Enter applied amount"})))}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(s=X.applied_amount)||void 0===s?void 0:s.message})]}),(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Approved Amount ",(0,E.jsx)("span",{className:"text-danger ms-1",children:" *"})]}),(0,E.jsx)("div",{className:"input-group border rounded-1",children:(0,E.jsx)("input",(0,l.A)((0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Approved Loan",autoComplete:"nope",name:"approved_amount"},H("approved_amount",{required:"Enter approved amount",validate:e=>{const s=parseFloat(K("applied_amount")),a=parseFloat(e);return!(!isNaN(s)&&!isNaN(a))||(a<1e4?"Approved Amount must be greater than \u20b910,000":a>5e5?"Approved Amount cannot exceed \u20b9500,000":a<=s||"Approved Amount must be less than Applied Amount")}})),{},{onChange:e=>(async(e,s)=>{let a=s;"approved_amount"===e&&(a=s.replace(N.mZ.ONCHANGE_MOBILE_REGEX,"")),G(e,a),q(e),await Z(e)})("approved_amount",e.target.value),max:5e5,min:0,step:"1"}))}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(a=X.approved_amount)||void 0===a?void 0:a.message})]}),(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Interest Rate",(0,E.jsx)("span",{className:"text-danger ms-1",children:"(in %) *"})]}),(0,E.jsxs)("div",{className:"flex d-flex  justify-content-between align-items-center",children:[(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"input-group border rounded-1 me-2",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Enter interest rate",autoComplete:"nope",min:0,max:100,step:"0.01",disabled:!0},H("interest_rate",{required:"Enter interest rate",min:{value:0,message:"Minimum value is 0"},max:{value:100,message:"Maximum value is 100"}})))}),De&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"input-group border rounded-1 me-2",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Enter custom interest rate",autoComplete:"nope",min:0,max:100,step:"0.01"},H("custom_rate_percentage",{required:"Enter custom interest rate",min:{value:0,message:"Minimum value is 0"},max:{value:100,message:"Maximum value is 100"}})))})})]}),(0,E.jsx)("div",{className:"justify-content-center gap-2",children:(0,E.jsxs)("button",{type:"button",className:"btn btn-primary ",onClick:()=>{Le(!De)},children:[" ",De?"Cancel":"Custom"]})})]}),De?(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(A=X.custom_rate_percentage)||void 0===A?void 0:A.message}):(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(S=X.interest_rate)||void 0===S?void 0:S.message})]}),(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Processing Fee",(0,E.jsx)("span",{className:"text-danger ms-1",children:"(in %) *"})]}),(0,E.jsxs)("div",{className:"flex d-flex  justify-content-between align-items-center",children:[(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"input-group border rounded-1 me-2",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Enter processing fee",autoComplete:"nope",min:0,max:100,step:"0.01",disabled:!0},H("processing_fee",{required:"Enter processing fee",min:{value:0,message:"Minimum value is 0"},max:{value:100,message:"Maximum value is 100"}})))}),Te&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"input-group border rounded-1 me-2",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Enter custom processing fee",autoComplete:"nope",min:0,max:100,step:"0.01"},H("custom_processing_fee",{required:"Enter custom processing fee",min:{value:0,message:"Minimum value is 0"},max:{value:100,message:"Maximum value is 100"}})))})})]}),(0,E.jsx)("div",{className:"justify-content-center gap-2",children:(0,E.jsxs)("button",{type:"button",className:"btn btn-primary ",onClick:()=>{Re(!Te)},children:[" ",Te?"Cancel":"Custom"]})})]}),De?(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(k=X.custom_processing_fee)||void 0===k?void 0:k.message}):(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(C=X.processing_fee)||void 0===C?void 0:C.message})]}),(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"product_name",className:"form-label fw-semibold",children:["Tenure",(0,E.jsx)("span",{className:"text-danger ms-1",children:"(in Months) *"})]}),(0,E.jsx)("div",{className:"flex d-flex  justify-content-between align-items-center",children:(0,E.jsx)("div",{className:"input-group border rounded-1 me-2",children:(0,E.jsx)("input",(0,l.A)({type:"number",className:"form-control ps-2",placeholder:"Select loan tenure (12, 18, 24, ... up to 350)",autoComplete:"off",min:12,max:36},H("loan_tenure",{required:"Select loan tenure",min:{value:12,message:"Minimum allowed tenure is 12 months"},max:{value:36,message:"Maximum allowed tenure is 36 months"},validate:e=>e%6===0||"Only multiples of 6 are allowed (12, 18, 24, ... 36)"})))})}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===X||void 0===X||null===(D=X.loan_tenure)||void 0===D?void 0:D.message})]})]}),(0,E.jsx)("div",{className:"row d-flex gap-3",children:(0,E.jsx)("div",{className:"col",children:(0,E.jsxs)("div",{className:"mb-1",children:[(0,E.jsxs)("label",{htmlFor:"remarks",className:"form-label fw-semibold",children:["Remarks ",(0,E.jsx)("span",{className:"text-danger ms-1",children:" *"})]}),(0,E.jsx)("div",{className:"input-group border rounded-1",children:(0,E.jsx)("textarea",(0,l.A)({id:"remarks",className:"form-control p-3 ps-2",placeholder:"Enter remarks"},H("remarks",{required:"Enter remarks"})))}),(0,E.jsx)("label",{className:"errorc ps-1 pt-1",children:null===(L=X.remarks)||void 0===L?void 0:L.message})]})})}),(0,E.jsxs)("div",{className:"modal-footer justify-content-center",children:[(0,E.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{ue(!1),J(),Le(!1),Re(!1),le(null)},children:"Cancel"}),(0,E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})})]})})}),me&&(0,E.jsx)("div",{className:"modal-backdrop fade show"}),W.isOpen&&(null===W||void 0===W?void 0:W.modalType)===v.bt.DELETE_MODEL&&(0,E.jsx)(_.A,{children:(0,E.jsx)(b.b3,{onConfirm:e=>{if(e){R((0,p.iC)(!0));let e={loan_id:null===ae||void 0===ae?void 0:ae.id,is_deleted:!0};(0,r._i)(e).then(e=>{if(e.status_code===(null===v.NC||void 0===v.NC?void 0:v.NC.SUCCESS)){var s;U(!1);const a=null===V||void 0===V||null===(s=V.loan_applications)||void 0===s?void 0:s.filter(e=>e.id!==(null===ae||void 0===ae?void 0:ae.id));R((0,p.Kd)((0,l.A)((0,l.A)({},V),{},{loan_applications:a}))),(0,h.MF)(R),R((0,p.iC)(!1)),(0,c.k1)(null===e||void 0===e?void 0:e.message)}})}}})})]})}}}]);